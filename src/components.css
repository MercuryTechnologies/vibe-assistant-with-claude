/* ========================================
   DESIGN SYSTEM COMPONENT STYLES
   Component-specific styles with state variants
   ======================================== */

/* ========================================
   DS-BUTTON
   ======================================== */

/* Base button styles */
.ds-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  font-weight: 400;
  transition: all 150ms ease;
  cursor: pointer;
  outline: none;
  border: none;
}

.ds-button:disabled {
  pointer-events: none;
  cursor: not-allowed;
}

.ds-button svg {
  pointer-events: none;
  flex-shrink: 0;
  display: block;
}

/* FontAwesome icon sizing - ensure inline styles are respected */
svg[data-icon] {
  flex-shrink: 0;
  max-width: 100%;
  max-height: 100%;
}

/* Ensure FontAwesome icons respect their inline style dimensions */
svg[data-icon][style*="width"],
svg[data-icon][style*="height"] {
  width: auto !important;
  height: auto !important;
}

/* FontAwesome icon container - don't force size on SVG */
svg[data-icon] {
  display: inline-block;
}

/* ========================================
   DS-ICON
   ======================================== */

.ds-icon {
  flex-shrink: 0;
  color: var(--ds-icon-default, #363644);
}

.ds-icon svg {
  display: block;
  width: 100%;
  height: 100%;
}

/* Button sizes */
.ds-button-small {
  height: 32px;
  border-radius: 20px;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
}

.ds-button-large {
  height: 40px;
  border-radius: 26px;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
}

/* Primary variant */
.ds-button-primary {
  background-color: var(--purple-magic-600);
  color: var(--neutral-base-0);
}

.ds-button-primary:hover {
  background-color: var(--purple-magic-700);
}

.ds-button-primary:focus-visible {
  background-color: var(--purple-magic-700);
  box-shadow: 0 0 0 1px var(--neutral-base-0), 0 0 0 3px var(--purple-magic-400-alpha4);
}

.ds-button-primary:active {
  background-color: var(--purple-magic-800);
}

.ds-button-primary:disabled {
  background-color: var(--neutral-magic-600-alpha3);
  color: var(--neutral-base-400);
}

/* Secondary variant */
.ds-button-secondary {
  background-color: var(--neutral-magic-600-alpha3);
  color: var(--neutral-base-700);
}

.ds-button-secondary:hover {
  background-color: var(--neutral-magic-600-alpha5);
}

.ds-button-secondary:focus-visible {
  background-color: var(--neutral-magic-600-alpha5);
  box-shadow: 0 0 0 1px var(--neutral-base-0), 0 0 0 3px var(--purple-magic-400-alpha4);
}

.ds-button-secondary:active {
  background-color: var(--neutral-magic-600-alpha5);
}

.ds-button-secondary:disabled {
  background-color: var(--neutral-magic-600-alpha3);
  color: var(--neutral-base-400);
}

/* Tertiary variant */
.ds-button-tertiary {
  background-color: transparent;
  color: var(--neutral-base-700);
}

.ds-button-tertiary:hover {
  background-color: var(--neutral-magic-600-alpha3);
}

.ds-button-tertiary:focus-visible {
  background-color: var(--neutral-magic-600-alpha3);
  box-shadow: 0 0 0 1px var(--neutral-base-0), 0 0 0 3px var(--purple-magic-400-alpha4);
}

.ds-button-tertiary:active {
  background-color: var(--neutral-magic-600-alpha4);
}

.ds-button-tertiary:disabled {
  background-color: transparent;
  color: var(--neutral-base-400);
}

/* Destructive variant */
.ds-button-destructive {
  background-color: var(--neutral-magic-600-alpha3);
  color: var(--red-magic-700);
}

.ds-button-destructive:hover {
  background-color: var(--red-magic-600-alpha3);
}

.ds-button-destructive:focus-visible {
  background-color: var(--red-magic-600-alpha3);
  box-shadow: 0 0 0 1px var(--neutral-base-0), 0 0 0 3px var(--purple-magic-400-alpha4);
}

.ds-button-destructive:active {
  background-color: var(--red-magic-600-alpha4);
}

.ds-button-destructive:disabled {
  background-color: var(--neutral-magic-600-alpha3);
  color: var(--neutral-base-400);
}

/* Floating variant */
.ds-button-floating {
  background-color: var(--neutral-base-0);
  color: var(--neutral-base-700);
  box-shadow: var(--shadow-md);
}

.ds-button-floating:hover {
  box-shadow: var(--shadow-lg);
}

.ds-button-floating:focus-visible {
  box-shadow: 0 0 0 1px var(--neutral-base-0), 0 0 0 3px var(--purple-magic-400-alpha4);
}

.ds-button-floating:active {
  box-shadow: var(--shadow-md);
}

.ds-button-floating:disabled {
  background-color: var(--neutral-base-0);
  color: var(--neutral-base-400);
  box-shadow: var(--shadow-md);
}

/* Icon colors for destructive variant */
.ds-button-destructive .ds-button-icon {
  color: var(--red-magic-600);
}

/* Loading dots */
.ds-button-loading-dot {
  border-radius: var(--radius-full);
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.ds-button-loading-dot-primary {
  background-color: var(--neutral-base-0);
}

.ds-button-loading-dot-destructive {
  background-color: var(--red-magic-600);
}

.ds-button-loading-dot-default {
  background-color: var(--neutral-base-500);
}

/* ========================================
   LEGACY BUTTON (shadcn/ui compatibility)
   ======================================== */

.button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  white-space: nowrap;
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 400;
  transition: all 150ms ease;
  cursor: pointer;
  flex-shrink: 0;
  outline: none;
  border: none;
}

.button-base:disabled {
  pointer-events: none;
  opacity: 0.5;
}

.button-base svg {
  pointer-events: none;
  flex-shrink: 0;
  width: 16px;
  height: 16px;
}

/* Button size variants */
.button-default {
  height: 36px;
  padding: 8px 16px;
}

.button-default:has(> svg) {
  padding-left: 12px;
  padding-right: 12px;
}

.button-sm {
  height: 32px;
  gap: 6px;
  padding: 0 12px;
}

.button-sm:has(> svg) {
  padding-left: 10px;
  padding-right: 10px;
}

.button-lg {
  height: 40px;
  padding: 0 24px;
}

.button-lg:has(> svg) {
  padding-left: 16px;
  padding-right: 16px;
}

.button-icon {
  width: 36px;
  height: 36px;
}

.button-icon-sm {
  width: 32px;
  height: 32px;
}

.button-icon-lg {
  width: 40px;
  height: 40px;
}

/* Button variants */
.button-variant-default {
  background-color: var(--primary);
  color: var(--primary-foreground);
}

.button-variant-default:hover {
  opacity: 0.9;
}

.button-variant-destructive {
  background-color: var(--destructive);
  color: var(--neutral-base-0);
}

.button-variant-destructive:hover {
  opacity: 0.9;
}

.button-variant-destructive:focus-visible {
  box-shadow: 0 0 0 3px var(--red-magic-600-alpha4);
}

.button-variant-outline {
  border: 1px solid var(--color-border-default);
  background-color: var(--color-bg-default);
  box-shadow: var(--shadow-xs);
}

.button-variant-outline:hover {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

.button-variant-secondary {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

.button-variant-secondary:hover {
  opacity: 0.8;
}

.button-variant-ghost {
  background-color: transparent;
}

.button-variant-ghost:hover {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

.button-variant-link {
  color: var(--color-text-primary);
  text-underline-offset: 4px;
}

.button-variant-link:hover {
  text-decoration: none;
}

/* Focus visible states */
.button-base:focus-visible {
  border-color: var(--color-border-focus-ring);
  box-shadow: 0 0 0 3px var(--purple-magic-400-alpha4);
}

/* ========================================
   CARD
   ======================================== */

.ds-card {
  display: flex;
  flex-direction: column;
  gap: 24px;
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border-default);
  padding-top: 24px;
  padding-bottom: 24px;
  background-color: var(--color-bg-default);
  color: var(--color-text-primary);
  box-shadow: var(--shadow-sm);
}

.ds-card-header {
  display: grid;
  grid-auto-rows: min-content;
  grid-template-rows: auto auto;
  align-items: start;
  gap: 8px;
  padding-left: 24px;
  padding-right: 24px;
}

.ds-card-header:has([data-slot="card-action"]) {
  grid-template-columns: 1fr auto;
}

.ds-card-header.border-b {
  padding-bottom: 24px;
}

.ds-card-title {
  line-height: 1;
}

.ds-card-description {
  color: var(--muted-foreground);
}

.ds-card-action {
  grid-column-start: 2;
  grid-row: span 2 / span 2;
  grid-row-start: 1;
  align-self: start;
  justify-self: end;
}

.ds-card-content {
  padding-left: 24px;
  padding-right: 24px;
}

.ds-card-footer {
  display: flex;
  align-items: center;
  padding-left: 24px;
  padding-right: 24px;
}

.ds-card-footer.border-t {
  padding-top: 24px;
}

/* ========================================
   INPUT
   ======================================== */

.ds-input {
  height: 36px;
  width: 100%;
  min-width: 0;
  border-radius: var(--radius-md);
  border: 1px solid var(--input);
  background-color: transparent;
  padding: 4px 12px;
  font-family: var(--font-sans);
  font-size: 16px;
  box-shadow: var(--shadow-xs);
  transition: color 150ms ease, box-shadow 150ms ease;
  outline: none;
}

@media (min-width: 768px) {
  .ds-input {
    font-family: var(--font-sans);
    font-size: 14px;
  }
}

.ds-input::placeholder {
  color: var(--muted-foreground);
}

.ds-input::selection {
  background-color: var(--primary);
  color: var(--primary-foreground);
}

.ds-input:focus-visible {
  border-color: var(--ring);
  box-shadow: 0 0 0 3px var(--purple-magic-400-alpha4);
}

.ds-input:disabled {
  pointer-events: none;
  cursor: not-allowed;
  opacity: 0.5;
}

.ds-input[aria-invalid="true"] {
  border-color: var(--destructive);
  box-shadow: 0 0 0 3px var(--red-magic-600-alpha4);
}

/* File input styling */
.ds-input::file-selector-button {
  display: inline-flex;
  height: 28px;
  border: 0;
  background-color: transparent;
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 500;
  color: var(--foreground);
}

/* ========================================
   DS-TEXT-INPUT
   ======================================== */

.ds-text-input-container {
  display: flex;
  flex-direction: column;
  gap: 4px;
  width: 100%;
}

.ds-text-input-container.disabled {
  opacity: 0.6;
  pointer-events: none;
}

.ds-text-input-label {
  font-family: var(--font-sans);
  font-size: 13px;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: 0.1px;
  color: var(--ds-text-secondary);
}

.ds-text-input-label.focused {
  color: var(--purple-magic-700);
}

.ds-text-input-label.error {
  color: var(--red-magic-600);
}

.ds-text-input-label.disabled {
  color: var(--neutral-base-400);
}

.ds-text-input-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: var(--radius-md);
  background-color: var(--neutral-base-50);
  border: 1px solid var(--neutral-magic-600-alpha4);
  transition: all 150ms ease;
}

.ds-text-input-wrapper:hover {
  border-color: var(--neutral-magic-600-alpha5);
}

.ds-text-input-wrapper.focused {
  border-color: var(--neutral-magic-600-alpha3);
  border-bottom: 2px solid var(--purple-magic-600);
  background-color: var(--neutral-base-0);
}

.ds-text-input-wrapper.error {
  border-color: var(--red-magic-600);
}

.ds-text-input-wrapper.disabled {
  border-color: var(--neutral-magic-600-alpha3);
  background-color: var(--neutral-magic-600-alpha1);
}

.ds-text-input-field {
  flex: 1;
  background-color: transparent;
  outline: none;
  font-family: var(--font-sans);
  font-size: 15px;
  font-weight: 400;
  line-height: 24px;
  color: var(--neutral-base-700);
}

.ds-text-input-field::placeholder {
  color: var(--neutral-base-400);
}

.ds-text-input-field:disabled {
  color: var(--neutral-base-400);
  cursor: not-allowed;
}

.ds-text-input-affix {
  display: flex;
  align-items: center;
  color: var(--neutral-base-400);
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  flex-shrink: 0;
}

.ds-text-input-help {
  font-family: var(--font-sans);
  font-size: 12px;
  line-height: 20px;
  letter-spacing: 0.2px;
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--neutral-base-400);
}

.ds-text-input-help.error {
  color: var(--red-magic-600);
}

/* ========================================
   SEPARATOR
   ======================================== */

.ds-separator {
  flex-shrink: 0;
  background-color: var(--border);
}

.ds-separator[data-orientation="horizontal"] {
  height: 1px;
  width: 100%;
}

.ds-separator[data-orientation="vertical"] {
  height: 100%;
  width: 1px;
}

/* ========================================
   BADGE
   ======================================== */

.ds-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-sm);
  width: fit-content;
  white-space: nowrap;
  flex-shrink: 0;
  transition: color 150ms ease, background-color 150ms ease;
  overflow: hidden;
  font-family: var(--font-sans);
  font-size: 12px;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: 0.2px;
  padding: 0 8px;
}

.ds-badge.has-icon {
  gap: 2px;
  padding-left: 2px;
  padding-right: 8px;
}

/* Badge variants */
.ds-badge-neutral {
  background-color: var(--neutral-magic-600-alpha4);
  color: var(--neutral-base-700);
}

.ds-badge-neutral:hover {
  background-color: var(--purple-magic-600-alpha4);
}

.ds-badge-pearl {
  background-color: var(--purple-magic-600-alpha3);
  color: var(--neutral-base-700);
}

.ds-badge-pearl:hover {
  background-color: var(--purple-magic-600-alpha4);
}

.ds-badge-highlight {
  background-color: var(--blue-magic-600-alpha3);
  color: var(--neutral-base-700);
}

.ds-badge-highlight:hover {
  background-color: var(--purple-magic-600-alpha4);
}

.ds-badge-success {
  background-color: var(--green-magic-600-alpha3);
  color: #036e43;
}

.ds-badge-success:hover {
  background-color: var(--purple-magic-600-alpha4);
  color: var(--neutral-base-700);
}

.ds-badge-warning {
  background-color: var(--orange-magic-600-alpha3);
  color: #a44200;
}

.ds-badge-warning:hover {
  background-color: var(--purple-magic-600-alpha4);
  color: var(--neutral-base-700);
}

.ds-badge-error {
  background-color: var(--red-magic-600-alpha3);
  color: var(--red-magic-700);
}

.ds-badge-error:hover {
  background-color: var(--purple-magic-600-alpha4);
  color: var(--neutral-base-700);
}

/* Badge icon */
.ds-badge-icon {
  width: 20px;
  height: 20px;
  flex-shrink: 0;
  transition: color 150ms ease;
}

/* ========================================
   DROPDOWN MENU
   ======================================== */

.ds-dropdown-content {
  z-index: 50;
  max-height: var(--radix-dropdown-menu-content-available-height);
  min-width: 8rem;
  overflow-x: hidden;
  overflow-y: auto;
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  padding: 4px;
  background-color: var(--popover);
  color: var(--popover-foreground);
  box-shadow: var(--shadow-md);
  transform-origin: var(--radix-dropdown-menu-content-transform-origin);
}

.ds-dropdown-content[data-state="open"] {
  animation: fadeIn 150ms ease-out, scaleIn 150ms ease-out;
}

.ds-dropdown-content[data-state="closed"] {
  animation: fadeOut 100ms ease-in, scaleOut 100ms ease-in;
}

.ds-dropdown-content[data-side="bottom"] {
  animation: fadeIn 150ms ease-out, slideInFromTop 150ms ease-out;
}

.ds-dropdown-content[data-side="top"] {
  animation: fadeIn 150ms ease-out, slideInFromBottom 150ms ease-out;
}

.ds-dropdown-content[data-side="left"] {
  animation: fadeIn 150ms ease-out, slideInFromRight 150ms ease-out;
}

.ds-dropdown-content[data-side="right"] {
  animation: fadeIn 150ms ease-out, slideInFromLeft 150ms ease-out;
}

.ds-dropdown-item {
  position: relative;
  display: flex;
  cursor: pointer;
  align-items: center;
  gap: 8px;
  border-radius: var(--radius-sm);
  padding: 6px 8px;
  font-family: var(--font-sans);
  font-size: 14px;
  outline: none;
  user-select: none;
}

.ds-dropdown-item:focus {
  background-color: var(--accent);
  color: var(--accent-foreground);
}

.ds-dropdown-item:disabled,
.ds-dropdown-item[data-disabled] {
  pointer-events: none;
  opacity: 0.5;
}

.ds-dropdown-item[data-inset] {
  padding-left: 32px;
}

.ds-dropdown-item svg {
  pointer-events: none;
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  color: var(--muted-foreground);
}

.ds-dropdown-item[data-variant="destructive"] {
  color: var(--destructive);
}

.ds-dropdown-item[data-variant="destructive"]:focus {
  background-color: var(--red-magic-600-alpha3);
  color: var(--destructive);
}

.ds-dropdown-item[data-variant="destructive"] svg {
  color: var(--destructive);
}

.ds-dropdown-checkbox-item,
.ds-dropdown-radio-item {
  position: relative;
  display: flex;
  cursor: pointer;
  align-items: center;
  gap: 8px;
  border-radius: var(--radius-sm);
  padding: 6px 8px 6px 32px;
  font-family: var(--font-sans);
  font-size: 14px;
  outline: none;
  user-select: none;
}

.ds-dropdown-checkbox-item:focus,
.ds-dropdown-radio-item:focus {
  background-color: var(--accent);
  color: var(--accent-foreground);
}

.ds-dropdown-checkbox-item:disabled,
.ds-dropdown-checkbox-item[data-disabled],
.ds-dropdown-radio-item:disabled,
.ds-dropdown-radio-item[data-disabled] {
  pointer-events: none;
  opacity: 0.5;
}

.ds-dropdown-checkbox-item svg,
.ds-dropdown-radio-item svg {
  pointer-events: none;
  flex-shrink: 0;
  width: 16px;
  height: 16px;
}

.ds-dropdown-label {
  padding: 6px 8px;
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 500;
}

.ds-dropdown-label[data-inset] {
  padding-left: 32px;
}

.ds-dropdown-separator {
  margin: 4px -4px;
  height: 1px;
  background-color: var(--border);
}

.ds-dropdown-shortcut {
  margin-left: auto;
  font-family: var(--font-sans);
  font-size: 12px;
  letter-spacing: 0.1em;
  color: var(--muted-foreground);
}

.ds-dropdown-sub-trigger {
  display: flex;
  cursor: pointer;
  align-items: center;
  gap: 8px;
  border-radius: var(--radius-sm);
  padding: 6px 8px;
  font-family: var(--font-sans);
  font-size: 14px;
  outline: none;
  user-select: none;
}

.ds-dropdown-sub-trigger:focus,
.ds-dropdown-sub-trigger[data-state="open"] {
  background-color: var(--accent);
  color: var(--accent-foreground);
}

.ds-dropdown-sub-trigger[data-inset] {
  padding-left: 32px;
}

.ds-dropdown-sub-trigger svg {
  pointer-events: none;
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  color: var(--muted-foreground);
}

.ds-dropdown-sub-content {
  z-index: 50;
  min-width: 8rem;
  overflow: hidden;
  border-radius: var(--radius-md);
  border: 1px solid var(--border);
  padding: 4px;
  background-color: var(--popover);
  color: var(--popover-foreground);
  box-shadow: var(--shadow-lg);
  transform-origin: var(--radix-dropdown-menu-content-transform-origin);
}

.ds-dropdown-sub-content[data-state="open"] {
  animation: fadeIn 150ms ease-out, scaleIn 150ms ease-out;
}

.ds-dropdown-sub-content[data-state="closed"] {
  animation: fadeOut 100ms ease-in, scaleOut 100ms ease-in;
}

/* ========================================
   DIALOG
   ======================================== */

.ds-dialog-overlay {
  position: fixed;
  inset: 0;
  z-index: 50;
  background-color: var(--color-overlay-scrim);
}

.ds-dialog-overlay[data-state="open"] {
  animation: fadeIn 150ms ease-out;
}

.ds-dialog-overlay[data-state="closed"] {
  animation: fadeOut 150ms ease-in;
}

.ds-dialog-content {
  position: fixed;
  left: 50%;
  top: 50%;
  z-index: 50;
  display: grid;
  width: 100%;
  max-width: 32rem;
  transform: translate(-50%, -50%);
  gap: 16px;
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  background-color: var(--background);
  padding: 24px;
  box-shadow: var(--shadow-lg);
}

.ds-dialog-content[data-state="open"] {
  animation: fadeIn 150ms ease-out, zoomIn95 150ms ease-out;
}

.ds-dialog-content[data-state="closed"] {
  animation: fadeOut 100ms ease-in, zoomOut95 100ms ease-in;
}

.ds-dialog-header {
  display: flex;
  flex-direction: column;
  gap: 6px;
  text-align: center;
}

@media (min-width: 640px) {
  .ds-dialog-header {
    text-align: left;
  }
}

.ds-dialog-footer {
  display: flex;
  flex-direction: column-reverse;
  gap: 8px;
}

@media (min-width: 640px) {
  .ds-dialog-footer {
    flex-direction: row;
    justify-content: flex-end;
  }
}

.ds-dialog-title {
  font-family: var(--font-sans);
  font-size: 18px;
  font-weight: 600;
  line-height: 1;
  letter-spacing: -0.025em;
}

.ds-dialog-description {
  font-family: var(--font-sans);
  font-size: 14px;
  color: var(--muted-foreground);
}

.ds-dialog-close {
  position: absolute;
  right: 16px;
  top: 16px;
  border-radius: var(--radius-sm);
  opacity: 0.7;
  transition: opacity 150ms ease;
}

.ds-dialog-close:hover {
  opacity: 1;
}

.ds-dialog-close:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--ring);
}

.ds-dialog-close:disabled {
  pointer-events: none;
}

/* ========================================
   SHEET
   ======================================== */

.ds-sheet-overlay {
  position: fixed;
  inset: 0;
  z-index: 50;
  background-color: var(--color-overlay-scrim);
}

.ds-sheet-overlay[data-state="open"] {
  animation: fadeIn 150ms ease-out;
}

.ds-sheet-overlay[data-state="closed"] {
  animation: fadeOut 150ms ease-in;
}

.ds-sheet-content {
  position: fixed;
  z-index: 50;
  display: flex;
  flex-direction: column;
  gap: 16px;
  background-color: var(--background);
  padding: 24px;
  box-shadow: var(--shadow-lg);
  transition: transform 300ms ease;
}

.ds-sheet-content[data-side="top"] {
  inset: 0 0 auto 0;
  border-bottom: 1px solid var(--border);
}

.ds-sheet-content[data-side="bottom"] {
  inset: auto 0 0 0;
  border-top: 1px solid var(--border);
}

.ds-sheet-content[data-side="left"] {
  inset: 0 auto 0 0;
  height: 100%;
  width: 75%;
  max-width: 24rem;
  border-right: 1px solid var(--border);
}

.ds-sheet-content[data-side="right"] {
  inset: 0 0 0 auto;
  height: 100%;
  width: 75%;
  max-width: 24rem;
  border-left: 1px solid var(--border);
}

@media (min-width: 640px) {
  .ds-sheet-content[data-side="left"],
  .ds-sheet-content[data-side="right"] {
    max-width: 24rem;
  }
}

.ds-sheet-content[data-state="open"][data-side="top"] {
  animation: sheetSlideInFromTop 300ms ease-out;
}

.ds-sheet-content[data-state="closed"][data-side="top"] {
  animation: sheetSlideOutToTop 300ms ease-in;
}

.ds-sheet-content[data-state="open"][data-side="bottom"] {
  animation: sheetSlideInFromBottom 300ms ease-out;
}

.ds-sheet-content[data-state="closed"][data-side="bottom"] {
  animation: sheetSlideOutToBottom 300ms ease-in;
}

.ds-sheet-content[data-state="open"][data-side="left"] {
  animation: sheetSlideInFromLeft 300ms ease-out;
}

.ds-sheet-content[data-state="closed"][data-side="left"] {
  animation: sheetSlideOutToLeft 300ms ease-in;
}

.ds-sheet-content[data-state="open"][data-side="right"] {
  animation: sheetSlideInFromRight 300ms ease-out;
}

.ds-sheet-content[data-state="closed"][data-side="right"] {
  animation: sheetSlideOutToRight 300ms ease-in;
}

.ds-sheet-header {
  display: flex;
  flex-direction: column;
  gap: 8px;
  text-align: center;
}

@media (min-width: 640px) {
  .ds-sheet-header {
    text-align: left;
  }
}

.ds-sheet-footer {
  display: flex;
  flex-direction: column-reverse;
  gap: 8px;
}

@media (min-width: 640px) {
  .ds-sheet-footer {
    flex-direction: row;
    justify-content: flex-end;
  }
}

.ds-sheet-title {
  font-family: var(--font-sans);
  font-size: 18px;
  font-weight: 600;
  color: var(--foreground);
}

.ds-sheet-description {
  font-family: var(--font-sans);
  font-size: 14px;
  color: var(--muted-foreground);
}

.ds-sheet-close {
  position: absolute;
  right: 16px;
  top: 16px;
  border-radius: var(--radius-sm);
  opacity: 0.7;
  transition: opacity 150ms ease;
}

.ds-sheet-close:hover {
  opacity: 1;
}

.ds-sheet-close:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--ring);
}

.ds-sheet-close:disabled {
  pointer-events: none;
}

/* ========================================
   AVATAR
   ======================================== */

.ds-avatar {
  position: relative;
  display: flex;
  flex-shrink: 0;
  overflow: hidden;
  border-radius: var(--radius-full);
  transition: filter 150ms ease, box-shadow 150ms ease;
}

/* DS Avatar hover state - slight brightness increase */
.ds-avatar:hover {
  filter: brightness(1.1);
}

/* DS Avatar Trx (transaction) specific styles */
.ds-avatar-trx {
  cursor: default;
}

/* DS Avatar initials text */
.ds-avatar-initials {
  user-select: none;
}

.ds-avatar-image {
  aspect-ratio: 1 / 1;
  height: 100%;
  width: 100%;
}

.ds-avatar-fallback {
  display: flex;
  height: 100%;
  width: 100%;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background-color: var(--muted);
}

/* ========================================
   TABLE
   ======================================== */

.ds-table-wrapper {
  position: relative;
  width: 100%;
  overflow: auto;
}

.ds-table {
  width: 100%;
  caption-side: bottom;
  font-family: var(--font-sans);
  font-size: 14px;
}

.ds-table-header {
  border-bottom: 1px solid var(--color-border);
}

.ds-table-header tr {
  border-bottom: 1px solid var(--color-border);
  transition: background-color 150ms ease;
}

.ds-table-header tr:hover {
  background-color: transparent;
}

.ds-table-body tr {
  border-bottom: 1px solid var(--color-border);
  transition: background-color 150ms ease;
}

.ds-table-body tr:hover {
  background-color: var(--muted);
}

.ds-table-body tr:last-child {
  border-bottom: 0;
}

/* DSTable component (data-slot based) */
[data-slot="ds-table-body"] tr:last-child {
  border-bottom: 0;
}


/* ========================================
   DS-TABLE ROW HOVER STATES
   ======================================== */

/* Selected row background - primary border top/bottom with hover background */
.ds-table-row-selected {
  background-color: var(--ds-bg-default-hovered);
  /* Inset borders so the row never changes layout/height */
  box-shadow:
    inset 0 1px 0 0 var(--ds-icon-primary),
    inset 0 -1px 0 0 var(--ds-icon-primary);
}

/* Non-centered tables: ensure selected row has proper border color */
tr[data-state="selected"].ds-table-row-hover {
  background-color: var(--ds-bg-default-hovered);
  box-shadow:
    inset 0 1px 0 0 var(--ds-icon-primary),
    inset 0 -1px 0 0 var(--ds-icon-primary);
}

/* Default row hover (non-centered tables) */
.ds-table-row-hover:hover {
  background-color: var(--neutral-magic-600-alpha1);
  border-color: transparent;
}

/* Hide border of row before a hovered row */
.ds-table-row-hover:has(+ tr:hover) {
  border-color: transparent;
}

/* Full-width tables should keep row borders visible on hover */
.ds-table-full-width .ds-table-row-hover:hover {
  border-color: var(--color-border);
}

.ds-table-full-width .ds-table-row-hover:has(+ tr:hover) {
  border-color: var(--color-border);
}

/* Extended hover for centered tables - hide borders on hover */
.ds-table-row-extended-hover:hover {
  border-color: transparent;
}

.ds-table-row-extended-hover:has(+ tr:hover) {
  border-color: transparent;
}

.ds-table-row-extended-hover[data-state="selected"] {
  border-color: transparent;
}

/* ========================================
   DS-TABLE CELL HOVER LAYERS (Centered tables)
   These create the rounded hover backgrounds that extend beyond the table
   ======================================== */

/* Base cell hover layer setup */
.ds-table-cell-hover-layer {
  position: relative;
  overflow: visible !important;
}

.ds-table-cell-hover-layer::before {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;
  transition: background-color 150ms ease, border-color 150ms ease;
  z-index: 0;
  background-color: transparent;
  border-style: solid;
  border-color: transparent;
  border-width: 1px 0;
}

/* First column - extends left with rounded left corners */
.ds-table-cell-hover-first::before {
  left: -8px;
  right: 0;
  border-radius: 8px 0 0 8px;
  border-left-width: 1px;
}

/* Last column - extends right with rounded right corners */
.ds-table-cell-hover-last::before {
  left: 0;
  right: -8px;
  border-radius: 0 8px 8px 0;
  border-right-width: 1px;
}

/* First and only column - extends both sides with full rounded corners */
.ds-table-cell-hover-only::before {
  left: -8px;
  right: -8px;
  border-radius: 8px;
  border-left-width: 1px;
  border-right-width: 1px;
}

/* Middle columns - no horizontal extension */
.ds-table-cell-hover-middle::before {
  left: 0;
  right: 0;
  border-radius: 0;
}

/* Hover state for cells */
tr:hover .ds-table-cell-hover-layer::before {
  background-color: var(--neutral-magic-600-alpha2);
  border-color: var(--color-border-hover);
}

/* Selected state for cells - primary border with hover background */
tr[data-state="selected"] .ds-table-cell-hover-layer::before {
  background-color: var(--ds-bg-default-hovered);
  border-color: var(--ds-icon-primary);
}

/* When ALL rows are selected, don't draw primary top/bottom borders on every row */
[data-all-selected="true"] .ds-table-row-selected,
[data-all-selected="true"] tr[data-state="selected"].ds-table-row-hover {
  box-shadow: none;
}

[data-all-selected="true"] tr[data-state="selected"] .ds-table-cell-hover-layer::before {
  border-color: transparent;
}

/* Cell content should be above the hover layer */
.ds-table-cell-content {
  position: relative;
  z-index: 10;
}

/* Sortable column header hover */
.ds-table-header-sortable:hover {
  background-color: var(--neutral-magic-600-alpha2);
}

/* Column label hover (inside sortable headers) */
.ds-column-label-sortable:hover {
  background-color: var(--neutral-magic-600-alpha2);
}

/* Loading skeleton background */
.ds-table-skeleton-bg {
  background-color: var(--neutral-magic-600-alpha3);
}

/* DS Table text colors */
.ds-table-text-default {
  color: var(--ds-text-default);
}

.ds-table-text-emphasized {
  color: var(--ds-text-emphasized);
}

/* Group hover - text color change */
.group:hover .ds-table-text-hover-emphasized {
  color: var(--ds-text-emphasized);
}

/* DS Table header cell styling */
.ds-table-header-cell {
  text-align: left;
  font-family: var(--font-sans);
  font-weight: 400;
  white-space: nowrap;
  transition: color 150ms ease;
  font-size: 13px;
  line-height: 20px;
  letter-spacing: 0.1px;
  color: var(--ds-text-default);
  min-width: 120px;
}

/* DS Table body cell styling */
.ds-table-body-cell {
  height: 50px;
  vertical-align: middle;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  overflow: hidden;
  min-width: 120px;
  transition: color 150ms ease;
  color: var(--ds-text-default);
}

.group:hover .ds-table-body-cell {
  color: var(--ds-text-emphasized);
}

/* Column label text */
.ds-column-label-text {
  font-family: var(--font-sans);
  font-size: 13px;
  line-height: 20px;
  letter-spacing: 0.1px;
  color: var(--ds-text-default);
  white-space: nowrap;
  font-weight: 400;
}

.group:hover .ds-column-label-text {
  color: var(--ds-text-emphasized);
}

/* DS Table specific widths */
.ds-table-checkbox-col {
  width: 40px;
  vertical-align: middle;
}

/* Checkbox content should be vertically centered within the row */
.ds-table-checkbox-content {
  display: flex;
  align-items: center;
  height: 100%;
}

.ds-table-centered-container {
  max-width: 968px;
  margin-left: auto;
  margin-right: auto;
  width: 100%;
}

/* DS Table sort icons */
.ds-table-sort-icon {
  display: block;
  width: 11px;
  height: 11px;
}

/* Skeleton checkbox size */
.ds-table-skeleton-checkbox {
  width: 18px;
  height: 18px;
}

/* First centered column - no left padding */
.ds-table-first-centered {
  padding-left: 0 !important;
}

/* DS Table icon colors */
.text-ds-700 {
  color: var(--neutral-base-700);
}

.text-ds-400 {
  color: var(--neutral-base-400);
}

.text-ds-success {
  color: var(--color-success);
}

.ds-money-amount-cents {
  font-size: 11px;
  line-height: 20px;
  vertical-align: top;
}

/* Sort icon that appears on hover */
.ds-table-sort-icon-hover {
  opacity: 0;
  transition: opacity 150ms ease;
}

.group:hover .ds-table-sort-icon-hover {
  opacity: 1;
}

/* Striped table variant */
.ds-table-striped tbody tr:nth-child(even) {
  background-color: var(--neutral-base-50);
}

/* Background colors for table header/footer */
.ds-table-header-bg {
  background-color: var(--neutral-base-100);
}

.ds-table-footer-bg {
  background-color: var(--neutral-base-50);
}

.ds-table-footer {
  border-top: 1px solid var(--color-border);
  background-color: var(--muted);
  font-weight: 500;
}

.ds-table-footer tr:last-child {
  border-bottom: 0;
}

.ds-table-row {
  border-bottom: 1px solid var(--color-border);
  transition: background-color 150ms ease;
}

.ds-table-row:hover {
  background-color: var(--muted);
}

.ds-table-row[data-state="selected"] {
  background-color: var(--muted);
}

.ds-table-head {
  height: 48px;
  padding-left: 16px;
  padding-right: 16px;
  text-align: left;
  vertical-align: middle;
  font-weight: 500;
  color: var(--muted-foreground);
}

.ds-table-head:has([role="checkbox"]) {
  padding-right: 0;
}

.ds-table-cell {
  padding: 16px;
  vertical-align: middle;
}

.ds-table-cell:has([role="checkbox"]) {
  padding-right: 0;
}

.ds-table-caption {
  margin-top: 16px;
  font-family: var(--font-sans);
  font-size: 14px;
  color: var(--muted-foreground);
}

/* ========================================
   RADIO GROUP
   ======================================== */

.ds-radio-group {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.ds-radio-group-label {
  display: block;
  font-family: var(--font-sans);
  font-size: 13px;
  color: var(--neutral-base-600);
  font-weight: 400;
  line-height: 20px;
  letter-spacing: 0.1px;
  padding-bottom: 8px;
}

.ds-radio-options {
  display: flex;
  gap: 8px;
}

.ds-radio-options.vertical {
  flex-direction: column;
}

.ds-radio-options.horizontal {
  flex-direction: row;
  flex-wrap: wrap;
}

/* Simple Radio Option */
.ds-radio-option-simple {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
}

.ds-radio-option-simple.disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.ds-radio-indicator {
  width: 18px;
  height: 18px;
  border-radius: 9999px;
  border-width: 1px;
  border-style: solid;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: border-color 150ms ease, background-color 150ms ease;
  flex-shrink: 0;
}

/* Unselected states */
.ds-radio-indicator.unselected {
  border-color: var(--neutral-magic-600-alpha5);
  background-color: var(--neutral-base-0);
}

.ds-radio-option-simple:hover .ds-radio-indicator.unselected:not(.disabled):not(.error) {
  border-color: var(--neutral-magic-600);
}

.ds-radio-indicator.unselected.error {
  border-color: var(--red-magic-600);
  background-color: var(--neutral-base-0);
}

.ds-radio-option-simple:hover .ds-radio-indicator.unselected.error:not(.disabled) {
  border-color: var(--red-magic-700);
}

/* Selected states */
.ds-radio-indicator.selected {
  border-color: var(--purple-magic-600);
  background-color: var(--purple-magic-600);
}

.ds-radio-indicator.selected.error {
  border-color: var(--red-magic-600);
  background-color: var(--red-magic-600);
}

.ds-radio-indicator-dot {
  width: 8px;
  height: 8px;
  border-radius: 9999px;
  background-color: var(--neutral-base-0);
}

.ds-radio-label-text {
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: var(--neutral-base-700);
}

.ds-radio-label-text.disabled {
  color: var(--neutral-base-400);
}

.ds-radio-description {
  color: var(--neutral-base-400);
  margin-left: 4px;
}

/* Block Radio Option */
.ds-radio-option-block {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  border-radius: var(--radius-lg);
  border: 1px solid var(--neutral-magic-600-alpha4);
  background-color: var(--neutral-base-0);
  cursor: pointer;
  transition: border-color 150ms ease, background-color 150ms ease, box-shadow 150ms ease;
}

.ds-radio-option-block.disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.ds-radio-option-block:hover:not(.disabled):not(.selected):not(.error) {
  border-color: var(--neutral-magic-600-alpha5);
  background-color: var(--neutral-magic-600-alpha1);
}

.ds-radio-option-block.error:not(.selected) {
  border-color: var(--red-magic-600);
}

.ds-radio-option-block:hover.error:not(.disabled):not(.selected) {
  border-color: var(--red-magic-700);
}

.ds-radio-option-block.selected {
  border-color: var(--neutral-magic-600-alpha5);
  background-color: var(--neutral-base-0);
  box-shadow: 0px 0px 0px 1px var(--neutral-base-0), 0px 0px 0px 3px var(--purple-magic-600-alpha5);
}

.ds-radio-option-block.selected.error {
  border-color: var(--red-magic-600);
  background-color: var(--red-magic-600-alpha2);
  box-shadow: none;
}

/* ========================================
   FILTER MENU
   ======================================== */

.ds-filter-menu {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: 4px;
  z-index: 50;
  width: 598px;
  height: 533px;
  background-color: var(--neutral-base-0);
  border-radius: var(--radius-lg);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border: 1px solid var(--neutral-magic-600-alpha3);
  box-shadow: var(--shadow-lg);
}

/* Filter Sidebar */
.ds-filter-sidebar {
  width: 222px;
  background-color: var(--neutral-magic-600-alpha3);
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 0;
}

.ds-filter-sidebar-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  border-radius: var(--radius-md);
  width: 100%;
  text-align: left;
  transition: background-color 150ms ease, box-shadow 150ms ease;
  cursor: pointer;
  border: none;
  background: transparent;
}

.ds-filter-sidebar-item:hover:not(.active) {
  background-color: var(--neutral-magic-600-alpha1);
}

.ds-filter-sidebar-item.active {
  background-color: var(--neutral-magic-600-alpha2);
  box-shadow: 0px 0px 0px 1px var(--neutral-base-0), 0px 0px 0px 3px var(--purple-magic-600-alpha5);
}

.ds-filter-sidebar-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  overflow: hidden;
}

.ds-filter-sidebar-label {
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  font-weight: 400;
  flex: 1;
  color: var(--neutral-base-700);
}

.ds-filter-sidebar-label.active {
  color: var(--neutral-base-900);
}

.ds-filter-sidebar-arrow {
  width: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 150ms ease;
  color: var(--neutral-base-900);
}

.ds-filter-sidebar-item.active .ds-filter-sidebar-arrow {
  opacity: 1;
}

/* Filter Content Panel */
.ds-filter-content {
  flex: 1;
  background-color: var(--neutral-base-0);
  display: flex;
  flex-direction: column;
  min-height: 0;
}

/* Filter Dropdown Select */
.ds-filter-select {
  width: 100%;
  height: 40px;
  padding: 0 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background-color: var(--neutral-base-50);
  border: 1px solid var(--neutral-magic-600-alpha4);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--neutral-base-700);
  font-weight: 400;
  line-height: 24px;
  cursor: pointer;
  transition: border-color 150ms ease;
}

.ds-filter-select:hover {
  border-color: var(--neutral-magic-600-alpha5);
}

/* Filter Dropdown Menu */
.ds-filter-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  margin-top: 4px;
  z-index: 10;
  background-color: var(--neutral-base-0);
  border-radius: var(--radius-lg);
  border: 1px solid var(--neutral-magic-600-alpha4);
  box-shadow: var(--shadow-lg);
  padding: 4px 0;
  overflow: hidden;
}

.ds-filter-dropdown-item {
  width: 100%;
  padding: 8px 12px;
  text-align: left;
  font-family: var(--font-sans);
  font-size: 14px;
  color: var(--neutral-base-700);
  background: transparent;
  border: none;
  cursor: pointer;
  transition: background-color 150ms ease;
}

.ds-filter-dropdown-item:hover {
  background-color: var(--neutral-magic-600-alpha2);
}

.ds-filter-dropdown-item.selected {
  color: var(--purple-magic-600);
  font-weight: 500;
}

/* Filter Input */
.ds-filter-input {
  width: 100%;
  height: 40px;
  padding: 0 12px;
  display: flex;
  align-items: center;
  background-color: var(--neutral-base-50);
  border: 1px solid var(--neutral-magic-600-alpha4);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--neutral-base-700);
  transition: border-color 150ms ease, box-shadow 150ms ease;
}

.ds-filter-input:hover {
  border-color: var(--neutral-magic-600-alpha5);
}

.ds-filter-input:focus,
.ds-filter-input.focused {
  border-color: var(--purple-magic-600);
  box-shadow: 0 0 0 2px var(--purple-magic-600-alpha5);
  outline: none;
}

.ds-filter-input::placeholder {
  color: var(--neutral-base-400);
}

/* Filter Search Input */
.ds-filter-search-input {
  width: 100%;
  height: 40px;
  padding: 0 12px 0 36px;
  background-color: var(--neutral-base-0);
  border: 1px solid var(--neutral-magic-600-alpha4);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--neutral-base-700);
  transition: border-color 150ms ease, box-shadow 150ms ease;
  outline: none;
}

.ds-filter-search-input:focus {
  border-color: var(--purple-magic-600);
  box-shadow: 0 0 0 2px var(--purple-magic-600-alpha5);
}

.ds-filter-search-input::placeholder {
  color: var(--neutral-base-400);
}

/* Filter Focused Input - for date selectors */
.ds-filter-input-focused {
  border-color: var(--purple-magic-600);
  box-shadow: 0 0 0 2px var(--purple-magic-600-alpha5);
}

/* Month Picker */
.ds-filter-month-nav {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--neutral-base-700);
  border-radius: var(--radius-sm);
  transition: background-color 150ms ease;
  cursor: pointer;
  border: none;
  background: transparent;
}

.ds-filter-month-nav:hover {
  background-color: var(--neutral-magic-600-alpha2);
}

.ds-filter-month-btn {
  height: 32px;
  font-family: var(--font-sans);
  font-size: 14px;
  border-radius: var(--radius-md);
  transition: background-color 150ms ease, color 150ms ease;
  color: var(--neutral-base-600);
  cursor: pointer;
  border: none;
  background: transparent;
}

.ds-filter-month-btn:hover:not(.selected):not(.in-range) {
  background-color: var(--neutral-magic-600-alpha2);
}

.ds-filter-month-btn.selected {
  background-color: var(--purple-magic-600);
  color: var(--neutral-base-0);
}

.ds-filter-month-btn.in-range {
  background-color: var(--purple-magic-600-alpha3);
  color: var(--neutral-base-700);
}

/* Filter Header */
.ds-filter-header {
  border-bottom: 1px solid var(--neutral-magic-600-alpha4);
  padding: 12px 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-shrink: 0;
}

.ds-filter-header-view {
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--neutral-base-600);
  line-height: 24px;
}

.ds-filter-header-summary {
  font-family: var(--font-sans);
  font-size: 13px;
  color: var(--neutral-base-700);
  line-height: 20px;
  letter-spacing: 0.1px;
}

.ds-filter-reset-btn {
  height: 32px;
  padding: 0 16px;
  font-family: var(--font-sans);
  font-size: 15px;
  color: var(--neutral-base-700);
  line-height: 24px;
  text-transform: capitalize;
  transition: color 150ms ease;
  cursor: pointer;
  border: none;
  background: transparent;
}

.ds-filter-reset-btn:hover {
  color: var(--neutral-base-900);
}

/* Filter Menu Trigger */
.ds-filter-trigger {
  display: flex;
  align-items: center;
  border-radius: var(--radius-md);
  flex-shrink: 0;
  transition: background-color 150ms ease, border-color 150ms ease;
  padding: 4px 0 4px 6px;
  background-color: var(--neutral-base-50);
  border: 1px solid var(--neutral-magic-600-alpha4);
  cursor: pointer;
}

.ds-filter-trigger:hover {
  background-color: var(--neutral-magic-600-alpha2);
}

.ds-filter-trigger.open {
  background-color: var(--neutral-magic-600-alpha2);
  border-color: var(--neutral-magic-600-alpha5);
}

.ds-filter-trigger-label {
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  font-weight: 400;
  white-space: nowrap;
  transition: color 150ms ease;
  color: var(--neutral-base-600);
}

.ds-filter-trigger:hover .ds-filter-trigger-label {
  color: var(--neutral-base-900);
}

.ds-filter-trigger.open .ds-filter-trigger-label {
  color: var(--neutral-base-900);
}

/* Amount Input with Icon */
.ds-filter-amount-input {
  display: flex;
  align-items: center;
  height: 40px;
  background-color: var(--neutral-base-50);
  border-radius: var(--radius-md);
  border: 1px solid var(--neutral-magic-600-alpha4);
  transition: border-color 150ms ease, box-shadow 150ms ease;
}

.ds-filter-amount-input:hover {
  border-color: var(--neutral-magic-600-alpha5);
}

.ds-filter-amount-input.focused {
  border-color: var(--purple-magic-600);
  box-shadow: 0 0 0 2px var(--purple-magic-600-alpha5);
}

.ds-filter-amount-icon {
  width: 40px;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--neutral-base-500);
  flex-shrink: 0;
}

.ds-filter-amount-field {
  flex: 1;
  height: 100%;
  background-color: transparent;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: var(--neutral-base-700);
  outline: none;
  border: none;
  padding-right: 12px;
}

.ds-filter-amount-field::placeholder {
  color: var(--neutral-base-400);
}

/* Select All Button */
.ds-filter-select-all {
  font-family: var(--font-sans);
  font-size: 14px;
  color: var(--purple-magic-600);
  transition: color 150ms ease;
  cursor: pointer;
  border: none;
  background: transparent;
  padding: 0;
}

.ds-filter-select-all:hover {
  color: var(--purple-magic-700);
}

/* ========================================
   COMBOBOX
   ======================================== */

.ds-combobox-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 8px 12px;
  border-radius: var(--radius-md);
  background-color: var(--color-bg-elevated);
  border: 1px solid var(--color-border-input);
  transition: border-color 150ms ease, background-color 150ms ease;
  cursor: pointer;
  width: 100%;
  min-height: 40px;
}

.ds-combobox-trigger:hover:not(.disabled):not(.error):not(.focus) {
  border-color: var(--color-border-input-emphasized);
}

.ds-combobox-trigger.focus {
  border-color: var(--color-border-input-focused);
  border-bottom: 2px solid var(--color-border-input-focused-underline);
  background-color: var(--color-bg-default);
}

.ds-combobox-trigger.error {
  border-color: var(--color-border-input-error);
}

.ds-combobox-trigger.disabled {
  border-color: var(--color-border-default);
  background-color: var(--color-bg-secondary);
  cursor: not-allowed;
}

.ds-combobox-placeholder {
  color: var(--ds-text-placeholder);
}

.ds-combobox-chevron {
  color: var(--ds-text-tertiary);
}

.ds-combobox-content {
  z-index: 100;
  min-width: var(--radix-dropdown-menu-trigger-width);
  max-height: 280px;
  overflow-y: auto;
  background-color: var(--color-bg-elevated);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  padding: 4px;
}

.ds-combobox-label-focus {
  color: var(--purple-magic-700);
}

.ds-combobox-label-error {
  color: var(--red-magic-600);
}

.ds-combobox-label-disabled {
  color: var(--ds-text-disabled);
}

.ds-combobox-help-error {
  color: var(--red-magic-600);
}

.ds-combobox-help-default {
  color: var(--ds-text-disabled);
}

.ds-combobox-clear {
  padding: 2px;
  border-radius: var(--radius-sm);
  color: var(--neutral-base-500);
  transition: background-color 150ms ease, color 150ms ease;
  cursor: pointer;
}

.ds-combobox-clear:hover {
  background-color: var(--neutral-magic-600-alpha3);
  color: var(--neutral-base-700);
}

.ds-combobox-item {
  padding: 4px 8px;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: var(--neutral-base-600);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background-color 150ms ease;
}

.ds-combobox-item:hover {
  background-color: var(--neutral-magic-600-alpha2);
}

.ds-combobox-item.selected {
  background-color: var(--purple-magic-600-alpha2);
  color: var(--purple-magic-600);
}

.ds-combobox-item.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ========================================
   INLINE COMBOBOX
   ======================================== */

.ds-inline-combobox-trigger {
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  height: 32px;
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  background-color: var(--neutral-base-50);
  border: 1px solid var(--color-border-input);
  overflow: clip;
  cursor: pointer;
  transition: background-color 150ms ease, border-color 150ms ease;
}

.ds-inline-combobox-trigger:hover:not(.disabled):not(.error):not(.open) {
  background-color: var(--neutral-base-50);
  border-color: var(--color-border-input-emphasized);
}

.ds-inline-combobox-trigger.open {
  background-color: var(--neutral-base-50);
  border-color: var(--color-border-input-emphasized);
}

.ds-inline-combobox-trigger.error {
  border-color: var(--red-magic-600);
  background-color: var(--red-magic-600-alpha1);
}

.ds-inline-combobox-trigger.disabled {
  cursor: not-allowed;
  border-color: var(--color-border-input);
  background-color: var(--neutral-base-50);
  opacity: 0.6;
}

.ds-inline-combobox-chevron {
  width: 13px;
  height: 13px;
  flex-shrink: 0;
  color: var(--ds-text-default);
  transition: transform 200ms ease, color 150ms ease;
}

.ds-inline-combobox-trigger.open .ds-inline-combobox-chevron {
  transform: rotate(180deg);
}

/* ========================================
   SIDEBAR
   ======================================== */

.ds-sidebar-nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 12px;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color 150ms ease, color 150ms ease;
  text-decoration: none;
  color: inherit;
}

.ds-sidebar-nav-item:hover:not(.active) {
  background-color: var(--neutral-magic-600-alpha2);
}

.ds-sidebar-nav-item.active {
  background-color: var(--purple-magic-600-alpha2);
  color: var(--purple-magic-600);
}

/* Table Row Hover */
.ds-table-row-interactive {
  cursor: pointer;
  transition: background-color 150ms ease;
}

.ds-table-row-interactive:hover {
  background-color: var(--neutral-magic-600-alpha1);
}

.ds-table-row-interactive.selected {
  background-color: var(--neutral-magic-600-alpha2);
}

/* Toolbar Button */
.ds-toolbar-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: var(--radius-md);
  background-color: transparent;
  border: 1px solid transparent;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 150ms ease, border-color 150ms ease;
}

.ds-toolbar-btn:hover:not(.disabled) {
  background-color: var(--neutral-magic-600-alpha2);
}

.ds-toolbar-btn.active {
  background-color: var(--neutral-magic-600-alpha3);
  border-color: var(--neutral-magic-600-alpha4);
}

/* Account Card */
.ds-account-card {
  cursor: pointer;
  transition: all 150ms ease;
}

.ds-account-card:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--color-border-hover);
}

.ds-account-card.selected {
  border-color: var(--purple-magic-600);
  background-color: var(--purple-magic-600-alpha1);
}

/* Color Swatch (Gallery) */
.ds-color-swatch {
  width: 100%;
  height: 80px;
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 150ms ease;
}

.ds-color-swatch:hover {
  transform: scale(1.05);
}

/* ========================================
   CHIP
   ======================================== */

.ds-chip {
  height: 32px;
  background-color: var(--ds-bg-input-default);
  border: 1px solid var(--color-border-input);
  border-radius: var(--radius-md);
  display: inline-flex;
  align-items: center;
  flex-shrink: 0;
  cursor: pointer;
  transition: background-color 150ms ease, border-color 150ms ease;
}

.ds-chip:hover {
  background-color: var(--ds-bg-default-hovered);
  border-color: var(--color-border-input-emphasized);
}

.ds-chip.ds-chip--open:not(.ds-chip--selected) {
  border-color: var(--color-border-input-emphasized);
}

/* Selected variant - light purple background, no border */
.ds-chip.ds-chip--selected {
  background-color: var(--purple-base-100);
  border: none;
}

.ds-chip.ds-chip--selected:hover {
  background-color: var(--purple-base-150);
}

/* Chip with trailing action vs no trailing action */
.ds-chip--has-trailing {
  padding-left: 12px;
  padding-right: 0;
}

.ds-chip--no-trailing {
  padding-left: 12px;
  padding-right: 12px;
}

/* Chip with leading icon */
.ds-chip--has-leading {
  padding-left: 6px;
}

/* Chip Label */
.ds-chip-label {
  font-size: 15px;
  line-height: 24px;
  color: var(--ds-text-secondary);
  font-weight: 400;
  white-space: nowrap;
  transition: color 150ms ease;
}

.ds-chip:hover .ds-chip-label {
  color: var(--ds-text-emphasized);
}

.ds-chip.ds-chip--selected .ds-chip-label {
  color: var(--ds-text-default);
}

/* Chip Leading Icon */
.ds-chip-leading-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  margin-right: 4px;
  color: var(--ds-text-secondary);
}

.ds-chip:hover .ds-chip-leading-icon {
  color: var(--ds-text-default);
}

.ds-chip.ds-chip--selected .ds-chip-leading-icon {
  color: var(--ds-text-default);
}

/* Chip Trailing Action */
.ds-chip-trailing {
  width: 32px;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: var(--ds-text-secondary);
}

.ds-chip:hover .ds-chip-trailing {
  color: var(--ds-text-default);
}

.ds-chip.ds-chip--selected .ds-chip-trailing {
  color: var(--ds-text-default);
}

.ds-chip.ds-chip--selected .ds-chip-trailing {
  color: var(--ds-text-default);
}

.ds-chip-trailing--clear {
  cursor: pointer;
}

/* Legacy Facet Chip (alias) */
.ds-facet-chip {
  background-color: var(--color-bg-default);
  border: 1px solid var(--color-border-input);
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  flex-shrink: 0;
  transition: background-color 150ms ease;
}

.ds-facet-chip:hover {
  border-color: var(--color-border-input-emphasized);
}

.ds-facet-chip-label {
  font-size: 15px;
  line-height: 24px;
  color: var(--ds-text-secondary);
  font-weight: 400;
  white-space: nowrap;
  transition: color 150ms ease;
}

.ds-facet-chip:hover .ds-facet-chip-label {
  color: var(--ds-text-default);
}

/* Icon Button */
.ds-icon-button {
  height: 32px;
  display: flex;
  align-items: center;
  gap: 8px;
  border-radius: var(--radius-full);
  flex-shrink: 0;
  color: var(--neutral-base-400);
  transition: color 150ms ease;
  border: none;
  outline: none;
  background: transparent;
  cursor: pointer;
}

.ds-icon-button:hover {
  color: var(--purple-magic-600);
}

.ds-icon-button.active {
  color: var(--purple-magic-600);
}

/* DSToolbar: QuickFilterDate */
.ds-quickfilter-date {
  background-color: var(--ds-bg-input-default);
  border: 1px solid var(--color-border-input);
  transition: background-color 150ms ease, border-color 150ms ease;
}

.ds-quickfilter-date[data-has-value="true"] {
  background-color: var(--ds-bg-emphasized);
  border-color: transparent;
}

.ds-quickfilter-date[data-has-value="false"][data-open="true"] {
  background-color: var(--ds-bg-default-hovered);
}

.ds-quickfilter-date[data-has-value="false"]:hover {
  background-color: var(--ds-bg-default-hovered);
  border-color: var(--color-border-input-emphasized);
}

/* Display Settings Menu: Rows */
.ds-display-settings-menu-row {
  transition: background-color 150ms ease;
}

.ds-display-settings-menu-row:hover {
  background-color: var(--ds-bg-default-hovered);
}

/* Shared: dropdown trigger "open" state (GroupByButton, SortButton, etc.) */
.ds-menu-trigger[data-state="open"] {
  background-color: var(--ds-bg-default-hovered);
}

/* ToggleSwitch */
.ds-toggle-switch {
  position: relative;
  display: inline-flex;
  align-items: center;
  flex-shrink: 0;
  width: 36px;
  height: 20px;
  border-radius: var(--radius-full);
  background-color: var(--neutral-magic-600-alpha4);
  transition: background-color 200ms ease;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 0;
}

.ds-toggle-switch[data-checked="true"] {
  background-color: var(--ds-bg-input-checked);
}

.ds-toggle-switch:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.ds-toggle-switch:focus-visible {
  box-shadow: 0 0 0 2px var(--color-border-focus-ring);
}

.ds-toggle-switch-thumb {
  pointer-events: none;
  position: absolute;
  top: 2px;
  left: 0;
  width: 16px;
  height: 16px;
  border-radius: var(--radius-full);
  background-color: var(--neutral-base-0);
  box-shadow: var(--shadow-xs);
  transform: translateX(2px);
  transition: transform 200ms ease;
}

.ds-toggle-switch[data-checked="true"] .ds-toggle-switch-thumb {
  transform: translateX(18px);
}

/* Tasks page */
.ds-task-list > * + * {
  border-top: 1px solid var(--color-border-emphasized);
}

.ds-task-row:hover .ds-task-row-overlay {
  border-color: var(--color-border-emphasized);
  background-color: var(--ds-bg-input-default);
}

.ds-task-action-link {
  display: none;
  color: var(--color-primary);
}

.ds-task-row:hover .ds-task-action-link {
  display: inline-flex;
}

.ds-task-hide-on-hover {
  display: block;
}

.ds-task-row:hover .ds-task-hide-on-hover {
  display: none;
}

/* Transactions page: pagination */
.ds-pagination-btn {
  background: transparent;
  border: none;
  outline: none;
  transition: background-color 150ms ease;
  cursor: pointer;
}

.ds-pagination-btn:hover:not(:disabled) {
  background-color: var(--ds-bg-default-hovered);
}

.ds-pagination-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Reset Button */
.ds-reset-button {
  font-size: 15px;
  line-height: 24px;
  color: var(--neutral-base-600);
  transition: color 150ms ease;
  border: none;
  background: transparent;
  cursor: pointer;
}

.ds-reset-button:hover {
  color: var(--neutral-base-700);
}

/* ========================================
   TRANSACTION DETAIL PANEL
   ======================================== */

/* Detail Panel Container */
.ds-table-detail-panel-container {
  /* This container should NOT overlay the table; the panel itself is `position: fixed`. */
  position: static;
  overflow: visible;
}

.detail-panel {
  /* Shadow L4 - Dialog from Figma */
  box-shadow: 
    0px 0px 2px 0px rgba(175, 178, 206, 0.65),
    0px 0px 3px 0px rgba(0, 0, 0, 0.09),
    0px 12px 16px 0px rgba(0, 0, 0, 0.01),
    0px 22px 28px 0px rgba(0, 0, 0, 0.04);

  /* Slide-in from right (0.2s) */
  transition: transform var(--ds-table-detail-panel-duration, 200ms) ease-out;
  will-change: transform;
}

/* Detail Panel Icon Button */
.detail-panel-icon-btn {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background-color: var(--ds-bg-default);
  transition: background-color 150ms ease, box-shadow 150ms ease;
  border: none;
  cursor: pointer;
  padding: 0;
}

.detail-panel-icon-btn:hover {
  background-color: var(--ds-bg-default-hovered);
}

.detail-panel-icon-btn:focus-visible {
  box-shadow: 0 0 0 2px var(--color-border-focus-ring);
}

/* Detail Panel Textarea */
.detail-panel-textarea {
  width: 100%;
  min-height: 56px;
  padding: 8px 12px;
  background-color: var(--neutral-base-50);
  border: 1px solid var(--neutral-magic-600-alpha4);
  border-radius: var(--radius-md);
  font-size: 15px;
  line-height: 24px;
  color: var(--ds-text-default);
  resize: none;
  transition: border-color 150ms ease, background-color 150ms ease;
  outline: none;
  font-family: var(--font-sans);
}

.detail-panel-textarea::placeholder {
  color: var(--ds-text-placeholder);
}

.detail-panel-textarea:hover {
  border-color: var(--neutral-magic-600-alpha5);
  background-color: var(--ds-bg-default);
}

.detail-panel-textarea:focus {
  border-color: var(--color-border-input-focused);
  border-bottom: 2px solid var(--purple-magic-600);
  background-color: var(--ds-bg-default);
}

/* Legacy panel styles - kept for backwards compatibility */
.ds-textarea-field {
  width: 100%;
  min-height: 80px;
  padding: 8px 12px;
  background-color: var(--neutral-base-50);
  border: 1px solid var(--neutral-magic-600-alpha4);
  border-radius: var(--radius-md);
  font-size: 15px;
  color: var(--neutral-base-700);
  resize: none;
  transition: border-color 150ms ease, background-color 150ms ease;
  outline: none;
}

.ds-textarea-field::placeholder {
  color: var(--neutral-base-400);
}

.ds-textarea-field:hover {
  border-color: var(--neutral-magic-600-alpha5);
}

.ds-textarea-field:focus {
  border-bottom: 2px solid var(--purple-magic-600);
  background-color: var(--neutral-base-0);
}

.ds-panel-close-btn {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  color: var(--neutral-base-500);
  transition: background-color 150ms ease;
  border: none;
  background: transparent;
  cursor: pointer;
}

.ds-panel-close-btn:hover {
  background-color: var(--neutral-magic-600-alpha3);
}

.ds-panel-icon-btn {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  color: var(--neutral-base-400);
  transition: background-color 150ms ease;
  border: none;
  background: transparent;
  cursor: pointer;
}

.ds-panel-icon-btn:hover {
  background-color: var(--neutral-magic-600-alpha3);
}

.ds-link-button {
  font-size: 13px;
  color: var(--purple-magic-600);
  text-decoration: none;
  transition: text-decoration 150ms ease;
  border: none;
  background: transparent;
  cursor: pointer;
}

.ds-link-button:hover {
  text-decoration: none;
}

.ds-upload-area {
  border: 1px dashed var(--neutral-magic-600-alpha5);
  border-radius: var(--radius-lg);
  padding: 16px;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: border-color 150ms ease;
  cursor: pointer;
}

.ds-upload-area:hover {
  border-color: var(--neutral-magic-600);
}

.ds-upload-icon {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  background-color: var(--neutral-magic-600-alpha2);
  color: var(--neutral-base-500);
}

/* Submenu Trigger */
.ds-submenu-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 8px;
  border-radius: var(--radius-md);
  transition: background-color 150ms ease;
  cursor: pointer;
}

.ds-submenu-trigger:hover {
  background-color: var(--neutral-magic-600-alpha1);
}

/* ========================================
   SIDEBAR NAVIGATION
   ======================================== */

.ds-sidebar {
  width: var(--sidebar-width);
  border-right: 1px solid var(--border);
  background-color: var(--sidebar);
  display: flex;
  flex-direction: column;
  height: 100vh;
  position: sticky;
  top: 0;
}

.ds-sidebar-header {
  padding: 12px;
  border-bottom: 1px solid var(--sidebar-border);
}

.ds-sidebar-nav {
  flex: 1;
  padding: 24px 12px 12px 12px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  overflow-y: auto;
}

.ds-sidebar-section {
  padding-top: 24px;
}

.ds-sidebar-section-title {
  padding-left: 8px;
  padding-top: 8px;
  padding-bottom: 8px;
  font-size: 13px;
  font-weight: 400;
  line-height: 20px;
  letter-spacing: 0.1px;
  color: var(--neutral-base-500);
}

.ds-sidebar-footer {
  padding: 16px;
}

.ds-sidebar-btn {
  width: 100%;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  font-size: 15px;
  line-height: 24px;
  height: auto;
  padding: 6px 8px;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color 150ms ease, color 150ms ease;
  background: transparent;
  border: none;
  font-weight: 400;
  color: var(--neutral-base-600);
  text-decoration: none;
}

.ds-sidebar-btn:hover {
  background-color: var(--neutral-base-100);
  color: var(--neutral-base-900);
}

.ds-sidebar-btn.active {
  background-color: var(--neutral-base-100);
  color: var(--neutral-base-700);
  font-weight: 480;
}

.ds-sidebar-btn-content {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  min-width: 0;
}

.ds-sidebar-icon-wrapper {
  width: 13px;
  height: 13px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  line-height: 13px;
}

.ds-sidebar-icon {
  width: 13px;
  height: 13px;
  color: var(--neutral-base-500);
  transition: color 150ms ease;
}

.ds-sidebar-btn:hover .ds-sidebar-icon {
  color: var(--neutral-base-900);
}

.ds-sidebar-btn.active .ds-sidebar-icon {
  color: var(--purple-magic-600);
}

.ds-sidebar-btn-label {
  flex: 1;
  text-align: left;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.ds-sidebar-btn-badge {
  margin-left: auto;
}

.ds-sidebar-chevron {
  margin-left: auto;
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ds-sidebar-chevron svg {
  width: 12px;
  height: 12px;
  color: var(--neutral-base-500);
}

.ds-sidebar-chevron.expanded svg {
  transform: rotate(180deg);
}

.ds-sidebar-submenu {
  padding-left: 28px;
  padding-top: 4px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* Company selector */
.ds-company-selector {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 4px 8px 4px 4px;
  border-radius: var(--radius-md);
  transition: background-color 150ms ease;
  cursor: pointer;
  background: transparent;
  border: none;
}

.ds-company-selector:hover,
.ds-company-selector[data-state="open"] {
  background-color: var(--neutral-magic-600-alpha3);
}

.ds-company-logo {
  width: 32px;
  height: 32px;
  border-radius: var(--radius-md);
  border: 1px solid var(--neutral-magic-600-alpha2);
  background-color: var(--neutral-base-0);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  overflow: hidden;
  padding: 6px;
}

.ds-company-logo-img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.ds-company-selector-name {
  font-size: 15px;
  font-weight: 400;
  line-height: 24px;
  color: var(--neutral-base-600);
  flex: 1;
  text-align: left;
  transition: color 150ms ease;
}

.ds-company-selector:hover .ds-company-selector-name,
.ds-company-selector[data-state="open"] .ds-company-selector-name {
  color: var(--neutral-base-900);
}

.ds-company-selector-chevron {
  width: 12px;
  height: 12px;
  color: var(--neutral-base-500);
  transition: color 150ms ease, transform 200ms ease;
}

.ds-company-selector:hover .ds-company-selector-chevron,
.ds-company-selector[data-state="open"] .ds-company-selector-chevron {
  color: var(--neutral-base-700);
}

.ds-company-selector[data-state="open"] .ds-company-selector-chevron {
  transform: rotate(180deg);
}

.ds-company-dropdown {
  width: 216px;
  padding: 4px;
  border-radius: var(--radius-md);
  background-color: var(--neutral-base-0);
  box-shadow: var(--shadow-lg);
}

.ds-dropdown-separator {
  margin: 4px 0;
  background-color: var(--purple-base-100);
}

/* Dropdown menu items */
.ds-dropdown-menu-item {
  padding: 8px 12px;
  font-size: 15px;
  line-height: 24px;
  color: var(--neutral-base-600);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background-color 150ms ease;
}

.ds-dropdown-menu-item:hover {
  background-color: var(--neutral-base-100);
}

/* Links */
.ds-link {
  text-decoration: none;
}

.ds-link:hover {
  text-decoration: underline;
}

/* DSLink (component) */
.ds-link-base {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 0;
  border: none;
  background: transparent;
  cursor: pointer;
  transition: color 150ms ease, text-decoration-color 150ms ease;
}

.ds-link-base[data-variant="primary"] {
  color: var(--ds-text-link);
}

.ds-link-base[data-variant="secondary"] {
  color: var(--ds-text-secondary);
}

.ds-link-base[data-size="default"] {
  min-height: 24px;
}

.ds-link-base[data-size="small"] {
  min-height: 20px;
}

.ds-link-base:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-border-focus-ring);
  border-radius: var(--radius-md);
}

.ds-link-base[data-disabled="true"] {
  color: var(--ds-text-disabled);
  cursor: not-allowed;
  pointer-events: none;
  text-decoration: none;
}

/* Demo helpers (used only in DS gallery) */
.ds-link--force-hover {
  text-decoration: underline;
}

.ds-link--force-focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-border-focus-ring);
  border-radius: var(--radius-md);
}

/* ========================================
   GROUPED TABLE (GroupedTable)
   Matches Figma "Group Table" row styling
   ======================================== */

.ds-grouped-table-row {
  background-color: transparent;
  transition: background-color 150ms ease;
}

.ds-grouped-table-row:hover {
  background-color: var(--ds-bg-default-hovered);
}

.ds-grouped-table-row:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-border-focus-ring);
}

.ds-grouped-table-expand-link {
  color: var(--ds-text-link);
  background-color: transparent;
  padding: 0;
}

/* Only show the " Expand group" affordance on row hover (Figma behavior) */
.ds-grouped-table-hover-actions {
  display: none;
  align-items: center;
  gap: 3px;
}

.ds-grouped-table-row:hover .ds-grouped-table-hover-actions {
  display: inline-flex;
}

/* Account list item */
.ds-account-list-item {
  padding: 6px 8px;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color 150ms ease;
}

.ds-account-list-item:hover {
  background-color: var(--neutral-base-100);
}

.ds-account-list-name {
  font-size: 15px;
  line-height: 24px;
  color: var(--neutral-base-700);
  font-weight: 400;
  transition: color 150ms ease;
}

.ds-account-list-item:hover .ds-account-list-name {
  color: var(--neutral-base-900);
}

.ds-account-list-balance {
  font-size: 13px;
  line-height: 20px;
  color: var(--neutral-base-500);
}

/* Non-clickable accounts (e.g., Credit Card, Treasury) */
.ds-account-list-item:not(.ds-account-list-item-clickable) {
  cursor: default;
}

.ds-account-list-item:not(.ds-account-list-item-clickable):hover {
  background-color: transparent;
}

.ds-account-list-item:not(.ds-account-list-item-clickable):hover .ds-account-list-name {
  color: var(--neutral-base-700);
}

/* Active state for account items */
.ds-account-list-item.active {
  background-color: var(--neutral-base-100);
}

.ds-account-list-item.active .ds-account-list-name {
  color: var(--neutral-base-900);
  font-weight: 480;
}

/* ========================================
   DS-CHECKBOX
   Based on Figma design:
   - Size: 20x20px
   - Border radius: 4px (rounded-sm)
   - Default: bg var(--neutral-base-50), border var(--neutral-base-300)
   - Hovered: drop shadow var(--shadow-sm)
   - Checked: bg var(--purple-magic-600) (purple-magic-600)
   - Checked + Hovered: bg var(--purple-magic-700) (purple-magic-700)
   ======================================== */

.ds-checkbox-wrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  width: 18px;
  height: 18px;
}

.ds-checkbox-input {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  z-index: 10;
  margin: 0;
}

.ds-checkbox-visual {
  position: absolute;
  inset: 0;
  border-radius: var(--radius-sm);
  border: 1px solid var(--neutral-base-300);
  background-color: var(--neutral-base-50);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: all 150ms ease;
  pointer-events: none;
}

/* Hover state for unchecked checkbox */
.ds-checkbox-input:not(:disabled):hover + .ds-checkbox-visual:not(.ds-checkbox-visual--checked) {
  box-shadow: var(--shadow-sm);
}

/* Checked state */
.ds-checkbox-visual--checked {
  background-color: var(--purple-magic-600);
  border-color: var(--purple-magic-600);
}

/* Hover state for checked checkbox */
.ds-checkbox-input:not(:disabled):hover + .ds-checkbox-visual--checked {
  background-color: var(--purple-magic-700);
  border-color: var(--purple-magic-700);
}

/* Disabled state */
.ds-checkbox-visual--disabled {
  opacity: 0.5;
}

/* Checkbox icon */
.ds-checkbox-icon {
  width: 11px;
  height: 11px;
  color: var(--neutral-base-0);
  transition: opacity 150ms ease;
}

.ds-checkbox-icon--visible {
  opacity: 1;
}

.ds-checkbox-icon--hidden {
  opacity: 0;
}

.ds-checkbox-icon--absolute {
  position: absolute;
}

/* Label styles */
.ds-checkbox-label {
  display: inline-flex;
  align-items: center;
  gap: 12px;
}

.ds-checkbox-label--sublabel {
  align-items: flex-start;
}

.ds-checkbox-label-text {
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  font-weight: 400;
  user-select: none;
  color: var(--neutral-base-700);
}

.ds-checkbox-label-text--disabled {
  color: var(--neutral-base-400);
}

.ds-checkbox-sublabel-text {
  font-family: var(--font-sans);
  font-size: 12px;
  line-height: 20px;
  letter-spacing: 0.2px;
  font-weight: 400;
  user-select: none;
  color: var(--neutral-base-500);
}

.ds-checkbox-sublabel-text--disabled {
  color: var(--neutral-base-300);
}

/* ========================================
   HOME PAGE / DASHBOARD
   ======================================== */

/* Time Period Tab */
.ds-time-period-tab {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2px 8px;
  border-radius: 0;
  background-color: transparent;
  border: none;
  cursor: pointer;
  transition: background-color 150ms ease;
}

.ds-time-period-tab:hover:not(.active) {
  background-color: var(--ds-bg-default-hovered);
  border-radius: 6px;
}

.ds-time-period-tab.active {
  background-color: var(--ds-bg-emphasized);
  border-radius: 6px;
}

/* Data Summary Tab */
.ds-data-summary-tab {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  height: 100%;
  padding: 12px 8px 0;
  background: transparent;
  border: none;
  cursor: pointer;
  transition: background-color 150ms ease;
}

.ds-data-summary-tab:hover {
  background-color: var(--ds-bg-default-hovered);
}

.ds-data-summary-tab.active {
  border-top: 1px solid var(--color-border-input-focused-underline);
}

/* 24px Icon Button Size Override (for DSButton iconOnly) */
.ds-icon-btn-24 {
  width: 24px !important;
  height: 24px !important;
  min-width: 24px !important;
  min-height: 24px !important;
}

/* Account Row Hover */
.ds-account-row {
  transition: background-color 150ms ease;
  cursor: pointer;
}

.ds-account-row:hover {
  background-color: var(--ds-bg-default-hovered);
}

/* Treasury Bar Chart */
.ds-treasury-bar {
  background: linear-gradient(to top, rgba(214, 214, 255, 0.7), rgba(239, 239, 253, 0.3));
  border-bottom: 1px solid #4d68eb;
}

/* Transaction Row */
.ds-transaction-row {
  transition: background-color 150ms ease;
}

.ds-transaction-row:hover {
  background-color: var(--ds-bg-default-hovered);
}

/* ========================================
   STICKY ACTION TOOLBAR
   Floating AI assistant input at bottom of page
   ======================================== */

.ds-action-container {
  position: fixed;
  bottom: 24px;
  left: var(--sidebar-width); /* Account for sidebar width */
  right: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  pointer-events: none;
  z-index: 100;
  /* Animation properties for hide/show */
  transform: translateY(0) scale(1);
  opacity: 1;
  transition: transform 300ms ease-out, opacity 300ms ease-out, right 200ms ease-out;
}

/* Adjust action toolbar when panel is open in sidebar mode on large screens */
body.ds-panel-open-side .ds-action-container {
  right: var(--chat-panel-width, 400px);
}

body.ds-panel-open-side.ds-panel-resizing .ds-action-container {
  transition: transform 300ms ease-out, opacity 300ms ease-out;
}

/* Hidden state when on Command page */
.ds-action-container.hidden-on-command {
  transform: translateY(24px) scale(0.97);
  opacity: 0;
  pointer-events: none;
}

.ds-action-toolbar {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  background-color: var(--ds-bg-default);
  border-radius: 40px;
  box-shadow: 
    0px 0px 8px 0px rgba(175, 178, 206, 0.24),
    0px 2px 15px 0px rgba(4, 4, 52, 0.07);
  pointer-events: auto;
  overflow: clip;
  transform-origin: bottom center;
  transition:
    border-radius 300ms cubic-bezier(0.215, 0.61, 0.355, 1),
    padding 300ms cubic-bezier(0.215, 0.61, 0.355, 1),
    gap 300ms cubic-bezier(0.215, 0.61, 0.355, 1),
    transform 150ms ease,
    box-shadow 150ms ease;
}

@media (hover: hover) and (pointer: fine) {
  .ds-action-toolbar:hover:not(.focused) {
    transform: scale(1.02);
    box-shadow:
      0px 0px 12px 0px rgba(175, 178, 206, 0.32),
      0px 8px 24px 0px rgba(4, 4, 52, 0.12);
  }
}

@media (prefers-reduced-motion: reduce) {
  .ds-action-toolbar {
    transition: none;
  }
}

/* Focused state - expanded command palette */
.ds-action-toolbar.focused {
  flex-direction: column;
  align-items: stretch;
  gap: 10px;
  padding: 8px;
  border-radius: 16px 16px 28px 28px;
}

/* When bulk mode is focused, show normal focused layout */
.ds-action-toolbar.bulk-mode.focused {
  padding: 8px;
  gap: 10px;
}

/* Results area */
.ds-action-results {
  display: flex;
  flex-direction: column;
  gap: 4px;
  max-height: 348px;
  overflow-y: auto;
  animation: slideUpFadeIn 350ms cubic-bezier(0.34, 1.35, 0.64, 1) 100ms backwards;
}

@keyframes slideUpFadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .ds-action-results {
    animation: none;
  }
}

.ds-action-result-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color 150ms ease;
}

.ds-action-result-item * {
  cursor: pointer;
}

.ds-action-result-item:hover,
.ds-action-result-item.selected {
  background-color: var(--ds-bg-default-hovered);
}

.ds-action-result-item.ai-mode {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(167, 139, 250, 0.08));
  border: 1px solid var(--purple-magic-200);
  border-radius: var(--radius-md);
  margin: 4px 0;
}

.ds-action-result-item.ai-mode:hover {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.12), rgba(167, 139, 250, 0.12));
  border-color: var(--purple-magic-300);
}

.ds-action-result-icon {
  width: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ds-action-composer {
  display: flex;
  align-items: center;
  flex: 1;
  min-width: 0;
  height: 40px;
  padding: 4px 16px;
  background-color: var(--ds-bg-input-default);
  border: 1px solid var(--color-border-input);
  border-radius: 20px;
  overflow: clip;
  transition:
    border-color 300ms cubic-bezier(0.215, 0.61, 0.355, 1),
    background-color 300ms cubic-bezier(0.215, 0.61, 0.355, 1),
    box-shadow 300ms cubic-bezier(0.215, 0.61, 0.355, 1),
    padding 300ms cubic-bezier(0.215, 0.61, 0.355, 1),
    height 300ms cubic-bezier(0.215, 0.61, 0.355, 1);
}

.ds-action-composer:hover:not(.focused) {
  border-color: var(--color-border-input-emphasized);
  background-color: var(--ds-bg-default);
}

.ds-action-composer.focused {
  height: 40px;
  background-color: var(--ds-bg-input-default);
  border: 1px solid var(--color-border-input);
  box-shadow:
    0px 0px 0px 1px var(--ds-bg-default),
    0px 0px 0px 3px var(--color-border-focus-ring);
}

@media (prefers-reduced-motion: reduce) {
  .ds-action-composer {
    transition: none;
  }
}

/* Search icon in focused input */
.ds-action-search-icon {
  width: 16px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 8px;
  margin-right: 8px;
}

/* Close button */
.ds-action-close-btn {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: background-color 150ms ease;
}

.ds-action-close-btn:hover {
  background-color: var(--ds-bg-default-hovered);
}

.ds-action-composer-input {
  flex: 1;
  min-width: 0;
  background: transparent;
  border: none;
  outline: none;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: var(--ds-text-default);
}

.ds-action-composer-input::placeholder {
  color: var(--ds-text-tertiary);
}

/* ========================================
   INSIGHTS PANEL
   Right-hand panel that appears when cash flow action is clicked
   ======================================== */

.ds-insights-panel {
  position: fixed;
  top: 16px;
  right: 16px;
  bottom: 16px;
  width: 400px;
  background-color: var(--ds-bg-default);
  border-left: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  display: flex;
  flex-direction: column;
  z-index: 200;
  pointer-events: auto;
  box-shadow: 
    -4px 0px 12px 0px rgba(175, 178, 206, 0.16),
    -1px 0px 4px 0px rgba(4, 4, 52, 0.08);
  animation: panelSlideIn 300ms cubic-bezier(0.165, 0.84, 0.44, 1);
  overflow: hidden;
}

@keyframes panelSlideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@media (prefers-reduced-motion: reduce) {
  .ds-insights-panel {
    animation: none;
  }
}

.ds-insights-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 16px 12px 24px;
  border-bottom: 1px solid var(--color-border-default);
}

.ds-insights-panel-icon-btn {
  flex-shrink: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: var(--radius-md);
  transition: background-color 150ms ease;
}

.ds-insights-panel-icon-btn:hover {
  background-color: var(--ds-bg-default-hovered);
}

.ds-insights-panel-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 24px;
  overflow-y: auto;
}

.ds-insights-user-message {
  align-self: flex-end;
  max-width: 80%;
  padding: 12px 16px;
  background-color: var(--ds-bg-emphasized);
  border-radius: var(--radius-md);
}

.ds-insights-typing-indicator {
  align-self: flex-start;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 12px 16px;
}

.ds-insights-typing-dot {
  width: 8px;
  height: 8px;
  border-radius: var(--radius-full);
  background-color: var(--ds-icon-primary);
  animation: typingDotPulse 1.4s ease-in-out infinite;
}

.ds-insights-typing-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.ds-insights-typing-dot:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes typingDotPulse {
  0%, 60%, 100% {
    opacity: 0.3;
    transform: scale(0.8);
  }
  30% {
    opacity: 1;
    transform: scale(1);
  }
}

.ds-insights-panel-input-area {
  padding: 16px;
  border-top: 1px solid var(--color-border-default);
}

.ds-insights-panel-input-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  background-color: var(--ds-bg-secondary);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border-default);
}

.ds-insights-panel-content-row {
  flex: 1;
}

.ds-insights-panel-input {
  width: 100%;
  background: transparent;
  border: none;
  outline: none;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: var(--ds-text-default);
}

.ds-insights-panel-input::placeholder {
  color: var(--ds-text-placeholder);
}

.ds-insights-panel-actions-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.ds-insights-panel-send-btn {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--ds-bg-inverted);
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color 150ms ease, opacity 150ms ease;
}

.ds-insights-panel-send-btn:hover {
  background-color: var(--neutral-base-800);
}

.ds-insights-panel-send-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Panel Resize Handle */
.ds-insights-panel-resize-handle {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 6px;
  cursor: ew-resize;
  z-index: 10;
  transition: background-color 150ms ease;
}

/* Prevent text selection during resize */
body.ds-panel-resizing {
  cursor: ew-resize !important;
  user-select: none;
}

body.ds-panel-resizing * {
  cursor: ew-resize !important;
}

.ds-insights-panel-resize-handle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 2px;
  transform: translateY(-50%);
  width: 2px;
  height: 40px;
  background-color: transparent;
  border-radius: var(--radius-full);
  transition: background-color 150ms ease;
}

.ds-insights-panel-resize-handle:hover::before,
.ds-insights-panel-resize-handle.active::before {
  background-color: var(--ds-icon-tertiary);
}

.ds-insights-panel-resize-handle:hover,
.ds-insights-panel-resize-handle.active {
  background-color: var(--ds-bg-secondary);
}

/* Full Screen Mode */
.ds-insights-panel-fullscreen {
  left: calc(var(--sidebar-width) + 16px); /* Sidebar width + 16px padding */
  right: 16px;
  width: auto !important;
  border-radius: var(--radius-lg);
}

.ds-insights-panel-fullscreen .ds-insights-panel-content {
  max-width: 800px;
  margin: 0 auto;
}

.ds-insights-panel-fullscreen .ds-insights-panel-input-area {
  max-width: 800px;
  margin: 0 auto;
  width: 100%;
}

/* Insight Action Buttons */
.ds-insight-action-btn {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  padding: 10px 12px;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color 150ms ease, border-color 150ms ease;
  font-family: var(--font-sans);
  font-size: 14px;
  line-height: 20px;
  color: var(--ds-text-default);
  text-align: left;
}

.ds-insight-action-btn:hover {
  background-color: var(--ds-bg-default-hovered);
  border-color: var(--color-border-emphasized);
}

.ds-insight-action-btn:active {
  background-color: var(--ds-bg-secondary);
}

/* ========================================
   UNIFIED CHAT PANEL
   Side panel and full-screen chat from ActionToolbar
   ======================================== */

.ds-chat-panel-overlay {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: var(--sidebar-width); /* Sidebar width - retains sidebar visibility */
  display: flex;
  background-color: var(--ds-bg-default);
  z-index: 300;
  pointer-events: auto;
  border-left: 1px solid var(--color-border-default);
  transform-origin: right center;
  transition: 
    width 200ms ease-out,
    right 200ms ease-out,
    top 200ms ease-out, 
    bottom 200ms ease-out, 
    border-radius 200ms ease-out, 
    box-shadow 200ms ease-out;
}

/* Only play slide-in animation on initial open for overlay mode on small screens */
.ds-chat-panel-overlay-panel.initial-open {
  animation: panelSlideIn 350ms cubic-bezier(0.34, 1.35, 0.64, 1) backwards;
}

.ds-chat-panel-overlay.toggle-animating {
  transition: 
    width 400ms cubic-bezier(0.34, 1.15, 0.64, 1),
    right 400ms cubic-bezier(0.34, 1.15, 0.64, 1),
    top 400ms cubic-bezier(0.34, 1.15, 0.64, 1), 
    bottom 400ms cubic-bezier(0.34, 1.15, 0.64, 1), 
    border-radius 400ms cubic-bezier(0.34, 1.15, 0.64, 1), 
    box-shadow 400ms cubic-bezier(0.34, 1.15, 0.64, 1);
}

/* When transitioning between sidebar and fullscreen on large screens, only animate width */
.ds-chat-panel-as-sidebar.toggle-animating {
  transition: width 300ms cubic-bezier(0.34, 1.15, 0.64, 1);
}

.ds-chat-panel-overlay.resizing {
  transition: none;
}

.ds-chat-panel {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: var(--ds-bg-default);
  padding-left: 40px;
  padding-right: 40px;
  position: relative;
}

.ds-chat-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 0 12px;
}

.ds-chat-panel-back-btn {
  display: flex;
  align-items: center;
  gap: 8px;
  background: none;
  border: none;
  padding: 4px 8px 4px 4px;
  margin: -4px;
  border-radius: var(--radius-md);
  cursor: pointer;
}

.ds-chat-panel-back-btn:hover {
  background-color: var(--ds-bg-secondary-hovered);
}

.ds-chat-panel-container {
  max-width: 800px;
  width: 100%;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
}

.ds-chat-panel-body {
  flex: 1;
  padding: 24px 0;
  display: flex;
  flex-direction: column;
  gap: 24px;
  overflow-y: auto;
}

.ds-chat-panel-message-bubble {
  align-self: flex-end;
  width: fit-content;
  max-width: 360px;
  padding: 8px 12px;
  background-color: var(--ds-bg-emphasized);
  border-radius: var(--radius-md);
}

.ds-chat-panel-copy {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Markdown styling for AI responses */
.ds-chat-markdown {
  color: var(--ds-text-default);
  font-size: var(--font-size-body);
  line-height: var(--line-height-body);
}

.ds-chat-markdown p {
  margin: 0 0 12px 0;
}

.ds-chat-markdown p:last-child {
  margin-bottom: 0;
}

.ds-chat-markdown strong {
  font-weight: 600;
  color: var(--ds-text-emphasized);
}

.ds-chat-markdown a {
  color: var(--ds-text-link);
  text-decoration: underline;
}

.ds-chat-markdown a:hover {
  text-decoration: none;
}

.ds-chat-markdown ul,
.ds-chat-markdown ol {
  margin: 0 0 12px 0;
  padding-left: 1.5rem;
}

.ds-chat-markdown li {
  margin-bottom: 4px;
}

.ds-chat-markdown code {
  font-family: var(--font-mono);
  font-size: 0.9em;
  background-color: var(--ds-bg-subtle);
  padding: 2px 6px;
  border-radius: var(--radius-sm);
}

.ds-chat-markdown pre {
  background-color: var(--ds-bg-subtle);
  padding: 12px;
  border-radius: var(--radius-md);
  overflow-x: auto;
  margin: 0 0 12px 0;
}

.ds-chat-markdown pre code {
  background: none;
  padding: 0;
}

.ds-chat-markdown table {
  width: 100%;
  border-collapse: collapse;
  margin: 0 0 12px 0;
  font-size: var(--font-size-body-sm);
}

.ds-chat-markdown table th,
.ds-chat-markdown table td {
  text-align: left;
  padding: 8px 12px;
  border-bottom: 1px solid var(--color-border-default);
}

.ds-chat-markdown table th {
  font-weight: 600;
  color: var(--ds-text-secondary);
  font-size: var(--font-size-label);
  background-color: var(--ds-bg-secondary);
}

.ds-chat-markdown table td {
  color: var(--ds-text-default);
}

.ds-chat-markdown table tr:last-child td {
  border-bottom: none;
}

.ds-chat-markdown table tr:hover td {
  background-color: var(--ds-bg-default-hovered);
}

.ds-chat-panel-ai-response {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.ds-chat-panel-note {
  padding-left: 4px;
}

.ds-chat-panel-footer {
  padding: 16px 0 24px;
}

/* Typing indicator for chat panel */
.ds-chat-panel-typing-indicator {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 8px 0;
}

.ds-chat-panel-typing-dot {
  width: 8px;
  height: 8px;
  border-radius: var(--radius-full);
  background-color: var(--ds-icon-tertiary);
  animation: ds-chat-panel-typing-bounce 1.4s ease-in-out infinite;
}

.ds-chat-panel-typing-dot:nth-child(1) {
  animation-delay: 0s;
}

.ds-chat-panel-typing-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.ds-chat-panel-typing-dot:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes ds-chat-panel-typing-bounce {
  0%, 60%, 100% {
    transform: translateY(0);
    opacity: 0.4;
  }
  30% {
    transform: translateY(-4px);
    opacity: 1;
  }
}

/* Unified Chat Composer - used in both side panel and full page chat */
.ds-chat-composer {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px 8px 8px 8px;
  background-color: var(--ds-bg-default);
  border: 1.25px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.ds-chat-composer:hover {
  border-color: var(--color-border-input-emphasized);
}

.ds-chat-composer:focus-within {
  border-color: var(--color-border-input-focused);
  box-shadow: 0px 10px 35px 0px rgba(0, 0, 0, 0.04), 0 0 0 2px var(--color-border-focus-ring);
}

.ds-chat-composer-input {
  display: flex;
  align-items: center;
  padding: 0 8px;
}

.ds-chat-composer-field {
  flex: 1;
  min-width: 0;
  background: transparent;
  border: none;
  outline: none;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: var(--ds-text-default);
}

.ds-chat-composer-field::placeholder {
  color: var(--ds-text-placeholder);
}

.ds-chat-composer-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.ds-recurring-form-pane {
  flex: 1;
  background-color: var(--ds-bg-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 48px;
  position: relative;
}


.ds-recurring-form-card {
  width: 420px;
  background-color: var(--ds-bg-default);
  border-radius: var(--radius-lg);
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 24px;
  box-shadow:
    0px 0px 2px 0px rgba(175, 178, 206, 0.65),
    0px 0px 3px 0px rgba(0, 0, 0, 0.09),
    0px 12px 16px 0px rgba(0, 0, 0, 0.01),
    0px 22px 28px 0px rgba(0, 0, 0, 0.04);
}

.ds-recurring-form-section {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.ds-recurring-toggle-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

.ds-recurring-form-actions {
  display: flex;
  justify-content: flex-end;
}

/* Panel Mode - Side panel instead of full screen */
.ds-chat-panel-overlay-panel {
  top: 16px;
  right: 16px;
  bottom: 16px;
  left: auto;
  border-radius: var(--radius-lg);
  border-left: none;
  box-shadow:
    -4px 0px 12px 0px rgba(175, 178, 206, 0.16),
    -1px 0px 4px 0px rgba(4, 4, 52, 0.08);
}

.ds-chat-panel-side {
  padding-left: 24px;
  padding-right: 24px;
  border-radius: var(--radius-lg);
}

.ds-chat-panel-side .ds-chat-panel-container {
  max-width: 100%;
}

.ds-chat-panel-side .ds-chat-panel-message-bubble {
  width: fit-content;
  max-width: 85%;
}

/* Panel Resize Handle */
.ds-chat-panel-resize-handle {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 6px;
  cursor: ew-resize;
  z-index: 10;
  transition: background-color 150ms ease;
  border-radius: var(--radius-lg) 0 0 var(--radius-lg);
}

.ds-chat-panel-resize-handle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 2px;
  transform: translateY(-50%);
  width: 2px;
  height: 40px;
  background-color: transparent;
  border-radius: var(--radius-full);
  transition: background-color 150ms ease;
}

.ds-chat-panel-resize-handle:hover::before,
.ds-chat-panel-resize-handle.active::before {
  background-color: var(--ds-icon-tertiary);
}

.ds-chat-panel-resize-handle:hover,
.ds-chat-panel-resize-handle.active {
  background-color: var(--ds-bg-secondary);
}

/* Prevent text selection during resize */
body.ds-panel-resizing {
  cursor: ew-resize !important;
  user-select: none;
}

/* Exiting animation - slide out to the right with spring */
.ds-chat-panel-overlay.exiting {
  animation: panelSlideOut 300ms cubic-bezier(0.34, 1.15, 0.64, 1) forwards;
}

@keyframes panelSlideOut {
  from {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateX(100%) scale(0.95);
  }
}

@media (prefers-reduced-motion: reduce) {
  .ds-chat-panel-overlay.exiting {
    animation: panelSlideOutReduced 300ms ease forwards;
  }

  @keyframes panelSlideOutReduced {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
}

/* Large screen panel mode - acts as sidebar, pushes content */
.ds-chat-panel-as-sidebar {
  top: 0;
  right: 0;
  bottom: 0;
  left: auto;
  border-radius: 0;
  border-left: 1px solid var(--color-border-default);
  box-shadow: none;
  z-index: 100; /* Lower z-index than overlay mode */
}

/* Only play slide-in animation when panel is initially opening (not on mode switches) */
.ds-chat-panel-as-sidebar.initial-open {
  animation: panelSidebarSlideIn 300ms cubic-bezier(0.34, 1.15, 0.64, 1) backwards;
}

@keyframes panelSidebarSlideIn {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .ds-chat-panel-as-sidebar.initial-open {
    animation: panelSlideInReduced 300ms ease backwards;
  }
}

.ds-chat-panel-as-sidebar.exiting {
  animation: panelSidebarSlideOut 250ms cubic-bezier(0.34, 1.15, 0.64, 1) forwards;
}

@keyframes panelSidebarSlideOut {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(100%);
  }
}

@media (prefers-reduced-motion: reduce) {
  .ds-chat-panel-as-sidebar.exiting {
    animation: panelSlideOutReduced 250ms ease forwards;
  }
}

/* Panel styling when in sidebar mode on large screens (includes fullscreen) */
.ds-chat-panel-as-sidebar .ds-chat-panel {
  padding-left: 32px;
  padding-right: 32px;
  border-radius: 0;
}

.ds-chat-panel-as-sidebar .ds-chat-panel-container {
  max-width: 100%;
  margin: 0; /* Remove auto centering to prevent content shift */
}

.ds-chat-panel-as-sidebar .ds-chat-panel-message-bubble {
  max-width: 280px;
}

/* Hide demo FAB when panel is open in sidebar mode */
body.ds-panel-open .ds-demo-settings-fab,
body.ds-panel-open-side .ds-demo-settings-fab {
  display: none;
}

/* Adjust main content when panel is open in sidebar mode on large screens */
body.ds-panel-open-side .flex.min-h-screen.bg-background > .flex-1.flex.flex-col {
  margin-right: var(--chat-panel-width, 400px);
  transition: margin-right 200ms ease-out;
}

body.ds-panel-open-side.ds-panel-resizing .flex.min-h-screen.bg-background > .flex-1.flex.flex-col {
  transition: none;
}

/* ========================================
   SEND BUTTON HOVER MENU
   Dropdown menu that appears on hover over the Send button
   ======================================== */

.send-button-container {
  position: relative;
  display: inline-flex;
}

.send-hover-menu {
  position: absolute;
  bottom: calc(100% + 12px); /* 8px toolbar padding + 4px gap above toolbar */
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 12px 16px;
  padding-bottom: 20px; /* Extra padding at bottom to bridge gap to button */
  background-color: var(--ds-bg-default);
  border-radius: var(--radius-md);
  box-shadow: 
    0px 1px 4px 0px rgba(183, 187, 219, 0.14),
    0px 0px 1px 0px rgba(175, 178, 206, 0.9),
    0px 8px 12px 0px rgba(14, 14, 45, 0.08),
    0px 14px 20px 0px rgba(4, 4, 52, 0.02);
  min-width: 207px;
  animation: sendMenuFadeIn 0.2s ease-out;
  z-index: 10;
}

/* Invisible bridge to connect menu to button for hover continuity */
.send-hover-menu::after {
  content: '';
  position: absolute;
  bottom: -16px;
  left: 0;
  right: 0;
  height: 20px;
}

@keyframes sendMenuFadeIn {
  from {
    opacity: 0.9;
    transform: translateX(-50%) translateY(4px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0) scale(1);
  }
}

.send-hover-menu-header {
  padding: 4px 8px;
}

.send-hover-menu-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 4px 8px;
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: background-color 100ms ease;
  white-space: nowrap;
}

.send-hover-menu-item.hovered {
  background-color: var(--ds-bg-default-hovered);
}

.send-hover-menu-search {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 8px;
  margin-bottom: 4px;
  border-radius: var(--radius-sm);
  background-color: var(--ds-bg-secondary);
}

.send-hover-menu-search-input {
  flex: 1;
  border: none;
  background: transparent;
  outline: none;
  font-family: var(--font-sans);
  font-size: 14px;
  line-height: 20px;
  color: var(--ds-text-default);
}

.send-hover-menu-search-input::placeholder {
  color: var(--ds-text-placeholder);
}

.send-hover-menu-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 12px 8px;
}

/* ========================================
   TRANSACTION DATA FAB (Sidebar)
   ======================================== */

.ds-transaction-data-fab {
  width: 100%;
  height: 40px;
  border-radius: var(--radius-md);
  background-color: var(--purple-magic-600);
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 150ms ease, transform 150ms ease;
  position: relative;
}

.ds-transaction-data-fab:hover {
  background-color: var(--purple-magic-700);
}

.ds-transaction-data-fab:active {
  transform: scale(0.98);
}

/* Transaction Data Panel */
.ds-transaction-data-panel {
  position: fixed;
  bottom: 72px;
  left: 16px;
  width: 280px;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  padding: 16px;
  box-shadow: var(--shadow-xl);
  z-index: 200;
  animation: slideUpFadeIn 200ms ease-out;
}

/* ========================================
   DATA MENU PANEL
   ======================================== */

.ds-data-menu-panel {
  position: fixed;
  bottom: 108px;
  left: 16px;
  width: 280px;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  padding: 16px;
  box-shadow: var(--shadow-xl);
  z-index: 200;
  animation: slideUpFadeIn 200ms ease-out;
}

/* ========================================
   CHART HOVER TRACKING
   Vertical line that follows cursor over chart
   ======================================== */

.ds-chart-hover-line {
  opacity: 1;
  transition: opacity 150ms ease;
}

/* ========================================
   BULK ACTION BAR
   Floating action island for bulk selection actions
   ======================================== */

.bulk-action-bar-container {
  position: fixed;
  bottom: 48px;
  left: var(--sidebar-width); /* Account for sidebar width */
  right: 0;
  display: flex;
  justify-content: center;
  pointer-events: none;
  z-index: 100;
  animation: bulkActionBarSlideUp 200ms ease-out;
}

@keyframes bulkActionBarSlideUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.bulk-action-bar {
  display: flex;
  align-items: center;
  gap: 24px;
  height: 60px;
  padding-left: 20px;
  padding-right: 12px;
  background-color: var(--ds-bg-default);
  border-radius: var(--radius-full);
  pointer-events: auto;
  box-shadow:
    0px 0px 2px 0px rgba(175, 178, 206, 0.56),
    0px 0px 3px 0px rgba(4, 4, 52, 0.09),
    0px 6px 10px 0px rgba(4, 4, 52, 0.04),
    0px 10px 16px 0px rgba(4, 4, 52, 0.02);
}

.bulk-action-bar-content {
  display: flex;
  align-items: center;
}

.bulk-action-bar-count {
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: var(--ds-text-default);
  white-space: nowrap;
}

.bulk-action-bar-combobox {
  width: 272px;
}

.bulk-action-bar-combobox-trigger {
  min-width: 200px;
}

.bulk-action-bar-overflow-btn {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background-color: var(--ds-bg-secondary);
  border: none;
  cursor: pointer;
  transition: background-color 150ms ease, box-shadow 150ms ease;
  padding: 0;
}

.bulk-action-bar-overflow-btn:hover {
  background-color: var(--ds-bg-secondary-hovered);
}

.bulk-action-bar-overflow-btn.open {
  background-color: var(--ds-bg-secondary-hovered);
  box-shadow:
    0px 0px 0px 1px var(--ds-bg-default),
    0px 0px 0px 3px var(--color-border-focus-ring);
}

.bulk-action-bar-divider {
  width: 1px;
  height: 28px;
  background-color: var(--neutral-magic-600);
  flex-shrink: 0;
}

.bulk-action-bar-dropdown {
  min-width: 160px;
}

.bulk-action-bar-dropdown-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: var(--ds-text-default);
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: background-color 150ms ease;
}

.bulk-action-bar-dropdown-item:hover {
  background-color: var(--ds-bg-default-hovered);
}

.bulk-action-bar-dropdown-icon {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--ds-text-secondary);
}

/* ========================================
   TOAST
   Dark notification toast with optional action
   ======================================== */

.ds-toast-container {
  position: fixed;
  bottom: 120px; /* Above bulk action bar */
  left: var(--sidebar-width); /* Account for sidebar width */
  right: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  pointer-events: none;
  z-index: 200;
}

.ds-toast {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background-color: var(--ds-bg-inverted);
  border-radius: var(--radius-md);
  pointer-events: auto;
  box-shadow:
    0px 1px 4px 0px rgba(183, 187, 219, 0.14),
    0px 0px 1px 0px rgba(175, 178, 206, 0.9),
    0px 8px 12px 0px rgba(14, 14, 45, 0.08),
    0px 14px 20px 0px rgba(4, 4, 52, 0.02);
  animation: toastSlideUp 200ms ease-out;
}

@keyframes toastSlideUp {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.ds-toast-message {
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: white;
}

.ds-toast-action {
  font-family: var(--font-sans);
  font-size: 15px;
  font-weight: 480;
  line-height: 24px;
  color: #cae2fc; /* Highlight color from Figma */
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  white-space: nowrap;
  transition: opacity 150ms ease;
}

.ds-toast-action:hover {
  opacity: 0.8;
}

/* ========================================
   COMMAND PAGE
   Home/command page with composer input and shortcuts
   ======================================== */

.command-page {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
}

.command-content {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  background: linear-gradient(to bottom, #fbfcfd 0%, rgba(251, 252, 253, 0) 35.787%);
  overflow: hidden;
}

/* Composer wrapper for centering */
.command-composer-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

/* Composer box */
.command-composer {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  width: 576px;
  height: 97px;
  padding: 12px 8px 8px 8px;
  background-color: var(--ds-bg-default);
  border: 1.25px solid var(--color-border-default);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0px 10px 35px 0px rgba(0, 0, 0, 0.04);
  cursor: text;
  transition: border-color 150ms ease, box-shadow 150ms ease;
}

.command-composer:hover {
  border-color: var(--color-border-input-emphasized);
}

.command-composer.focused,
.command-composer:focus-within {
  border-color: var(--color-border-input-focused);
  box-shadow: 0px 10px 35px 0px rgba(0, 0, 0, 0.04), 0 0 0 2px var(--color-border-focus-ring);
}

/* Input area with placeholder */
.command-composer-input {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 0 8px;
  flex: 1;
}

/* Textarea styling */
.command-composer-textarea {
  width: 100%;
  height: 100%;
  border: none;
  outline: none;
  background: transparent;
  resize: none;
  font-family: var(--font-sans);
  font-size: 15px;
  line-height: 24px;
  color: var(--ds-text-default);
}

.command-composer-textarea::placeholder {
  color: var(--ds-text-placeholder);
}

/* Actions row at bottom of composer */
.command-composer-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

/* Bottom shortcuts section */
.command-shortcuts {
  display: flex;
  gap: 24px;
  padding: 16px 24px;
  background-color: var(--ds-bg-default);
  border-top: 1px solid var(--color-border-default);
}

/* Individual shortcut card */
.command-shortcut-card {
  flex: 1;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
  height: 106px;
  padding: 24px;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all 150ms ease;
  overflow: hidden;
}

.command-shortcut-card:hover {
  background-color: var(--ds-bg-default-hovered);
  border-color: var(--color-border-emphasized);
}

.command-shortcut-card:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-border-focus-ring);
}

.command-shortcut-card:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Conversation starters - centered above input */
.command-starters {
  display: flex;
  gap: 16px;
  justify-content: center;
  margin-bottom: 24px;
  z-index: 1;
}

/* Individual starter card */
.command-starter-card {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 16px;
  width: 220px;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-md);
  cursor: pointer;
  text-align: left;
  transition: all 150ms ease;
}

.command-starter-card:hover {
  background-color: var(--ds-bg-default-hovered);
  border-color: var(--color-border-emphasized);
}

.command-starter-card:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-border-focus-ring);
}

.command-starter-card:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.command-starter-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background-color: var(--ds-bg-secondary);
  border-radius: var(--radius-md);
  flex-shrink: 0;
}

.command-starter-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

/* Command page messages area */
.command-messages {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 120px;
  overflow-y: auto;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  z-index: 5;
}

.command-message {
  display: flex;
  flex-direction: column;
  max-width: 600px;
  margin: 0 auto;
  width: 100%;
}

.command-message-user {
  align-self: flex-end;
  background-color: var(--ds-bg-emphasized);
  padding: 12px 16px;
  border-radius: var(--radius-md);
  max-width: 80%;
}

.command-message-assistant {
  align-self: flex-start;
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 100%;
}

.command-message-assistant p {
  margin: 0;
}

/* Composer wrapper when messages exist */
.command-composer-wrapper.has-messages {
  position: absolute;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
}

/* ========================================
   COMMAND CONVERSATION HEADER
   Header for switching between conversations
   ======================================== */

.command-conversation-header {
  position: absolute;
  top: 16px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: 12px;
  z-index: 20;
  padding: 8px 12px;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.command-conversation-selector {
  position: relative;
}

.command-conversation-title-button {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  background: transparent;
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color 150ms ease;
}

.command-conversation-title-button:hover {
  background-color: var(--ds-bg-secondary);
}

/* Conversation dropdown */
.command-conversation-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  min-width: 280px;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  overflow: hidden;
  animation: fadeIn 150ms ease-out, slideInFromTop 150ms ease-out;
  z-index: 100;
}

.command-conversation-dropdown-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  border-bottom: 1px solid var(--color-border-default);
}

.command-conversation-dropdown-list {
  max-height: 280px;
  overflow-y: auto;
}

.command-conversation-item {
  width: 100%;
  display: flex;
  align-items: center;
  padding: 12px 16px;
  background: transparent;
  border: none;
  text-align: left;
  cursor: pointer;
  transition: background-color 150ms ease;
}

.command-conversation-item:hover {
  background-color: var(--ds-bg-secondary);
}

.command-conversation-item.active {
  background-color: var(--ds-bg-emphasized);
}

.command-conversation-item-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
  overflow: hidden;
}

.command-conversation-item-content span:first-child {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.command-conversation-dropdown-footer {
  border-top: 1px solid var(--color-border-default);
  padding: 8px;
}

.command-conversation-new-btn {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  background: transparent;
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color 150ms ease;
}

.command-conversation-new-btn:hover {
  background-color: var(--ds-bg-secondary);
}

/* ========================================
   EXPLORE COMMAND PAGE
   Premium explore experience with auto-query and card animations
   ======================================== */

.explore-command-page {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
}

.explore-command-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
}

.explore-command-messages {
  flex: 1;
  overflow-y: auto;
  padding: 24px;
  padding-bottom: 140px;
  display: flex;
  flex-direction: column;
  gap: 24px;
  z-index: 5;
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
}

.explore-command-header {
  text-align: center;
  padding: 40px 0 24px;
}

.explore-command-message {
  display: flex;
  flex-direction: column;
}

.explore-command-message-user {
  align-self: flex-end;
  max-width: 70%;
  padding: 12px 16px;
  background-color: var(--ds-bg-emphasized);
  border-radius: var(--radius-lg);
}

.explore-command-message-assistant {
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 100%;
}

.explore-command-message-assistant p {
  margin: 0;
}

.explore-command-composer-wrapper {
  position: absolute;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
}

/* More cards section with reveal animation */
.explore-more-cards {
  animation: slideInFromBottom 400ms ease-out forwards;
  padding-top: 24px;
  border-top: 1px solid var(--color-border-default);
}

/* Sentinel for intersection observer */
.explore-reveal-sentinel {
  pointer-events: none;
}

/* ========================================
   SEGMENTED CONTROL
   ======================================== */

.segmented-control {
  display: inline-flex;
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border-default);
  background-color: var(--ds-bg-secondary);
  padding: 2px;
}

.segmented-control-button {
  font-family: var(--font-sans);
  border-radius: 6px;
  transition: all 150ms ease;
  cursor: pointer;
  border: none;
  background: transparent;
  color: var(--ds-text-secondary);
}

.segmented-control-button:hover:not(.active) {
  color: var(--ds-text-default);
}

.segmented-control-button.active {
  background-color: var(--ds-bg-default);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.06);
  color: var(--ds-text-default);
  font-weight: 480;
}

.segmented-control-button-sm {
  padding: 4px 10px;
  font-size: 13px;
  line-height: 20px;
}

.segmented-control-button-md {
  padding: 6px 12px;
  font-size: 15px;
  line-height: 24px;
}

.segmented-control-divider {
  width: 1px;
  background-color: var(--color-border-default);
  align-self: center;
}

.segmented-control-divider-sm {
  height: 10px;
}

.segmented-control-divider-md {
  height: 12px;
}

/* ========================================
   INSIGHTS BREAKDOWN
   ======================================== */

.insights-breakdown-grid {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

@media (min-width: 1200px) {
  .insights-breakdown-grid {
    flex-direction: row;
    gap: 16px;
  }
  
  .insights-breakdown-grid > * {
    flex: 1;
    min-width: 0;
  }
}

.insights-more-button {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background-color: var(--ds-bg-secondary);
  border: none;
  cursor: pointer;
  color: var(--ds-icon-secondary);
  transition: background-color 150ms ease;
}

.insights-more-button:hover {
  background-color: var(--ds-bg-secondary-hovered);
}

.insights-breakdown-row {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  margin: 0 -12px;
  border-radius: var(--radius-md);
  transition: all 200ms ease;
  cursor: pointer;
  border: none;
  background: transparent;
}

.insights-breakdown-row:hover {
  background-color: rgba(82, 102, 235, 0.06);
  box-shadow: inset 0 0 0 1px rgba(82, 102, 235, 0.15);
}

.insights-breakdown-row:hover span {
  color: var(--purple-magic-600);
}

.insights-breakdown-chat-icon {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
  color: var(--purple-magic-600);
  opacity: 0;
  transition: opacity 200ms ease;
}

.insights-breakdown-row:hover .insights-breakdown-chat-icon {
  opacity: 1;
}

/* ========================================
   SCORECARD
   ======================================== */

.scorecard-arrow-icon {
  width: 16px;
  height: 16px;
}

.scorecard-insight-button {
  width: 100%;
  text-align: left;
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px;
  margin: 0 -12px;
  border-radius: var(--radius-lg);
  transition: all 200ms ease;
  cursor: pointer;
  border: none;
  background: transparent;
}

.scorecard-insight-button:hover {
  background-color: rgba(82, 102, 235, 0.06);
  box-shadow: inset 0 0 0 1px rgba(82, 102, 235, 0.15);
}

.scorecard-insight-icon {
  flex-shrink: 0;
  margin-top: 2px;
  color: var(--ds-text-default);
  transition: transform 200ms ease;
}

.scorecard-insight-button:hover .scorecard-insight-icon {
  transform: scale(1.1);
}

.scorecard-insight-title {
  font-family: var(--font-sans);
  font-size: 14px;
  font-weight: 600;
  line-height: 1.4;
  color: var(--ds-text-default);
  margin: 0;
  transition: color 200ms ease;
}

.scorecard-insight-button:hover .scorecard-insight-title {
  color: var(--purple-magic-600);
}

.scorecard-insight-description {
  font-family: var(--font-sans);
  font-size: 14px;
  line-height: 1.5;
  color: var(--ds-text-secondary);
  margin: 4px 0 0 0;
}

.scorecard-insight-chat-icon {
  flex-shrink: 0;
  margin-top: 4px;
  width: 16px;
  height: 16px;
  color: var(--purple-magic-600);
  opacity: 0;
  transition: opacity 200ms ease;
}

.scorecard-insight-button:hover .scorecard-insight-chat-icon {
  opacity: 1;
}

/* ========================================
   CASH FLOW CHART
   ======================================== */

.cashflow-bar {
  width: 100%;
  max-width: 48px;
  border-radius: 4px;
  transition: opacity 200ms ease;
}

.cashflow-bar-in {
  background: linear-gradient(
    to top,
    var(--purple-magic-200) 0%,
    var(--purple-magic-400) 100%
  );
}

.cashflow-bar-out {
  background: linear-gradient(
    to bottom,
    var(--neutral-base-400) 0%,
    var(--neutral-base-600) 100%
  );
}

/* ========================================
   INSIGHTS PAGE STYLES
   ======================================== */

.insights-page {
  display: flex;
  flex-direction: column;
  min-height: 100%;
}

/* Header - not sticky to avoid scroll artifacts */
.insights-header {
  background-color: var(--ds-bg-default);
  border-bottom: 1px solid var(--color-border-default);
}

.insights-header.scrolled {
  /* No shadow since we're not using sticky */
}

.insights-header-shadow {
  display: none; /* Remove the shadow artifact */
}

.insights-header-shadow.visible {
  display: none;
}

/* Controls Row */
.insights-controls {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 12px 16px;
}

@media (min-width: 768px) {
  .insights-controls {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
}

.insights-controls-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.insights-controls-right {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

/* Timeline Wrapper */
.insights-timeline-wrapper {
  display: flex;
  align-items: center;
  background-color: var(--ds-bg-default);
  border-top: 1px solid var(--color-border-default);
}

.insights-timeline-arrow {
  padding: 0 16px;
  position: relative;
  z-index: 10;
}

.insights-timeline-arrow.left {
  padding-right: 4px;
}

.insights-timeline-arrow.right {
  padding-left: 4px;
}

.timeline-nav-button {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  color: var(--ds-text-secondary);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 200ms ease;
  opacity: 0;
  pointer-events: none;
}

.timeline-nav-button.visible {
  opacity: 1;
  pointer-events: auto;
}

.timeline-nav-button:hover {
  background-color: var(--ds-bg-secondary-hovered);
  color: var(--ds-text-default);
}

.timeline-nav-button svg {
  width: 12px;
  height: 12px;
}

.insights-timeline {
  flex: 1;
  min-width: 0;
  position: relative;
  overflow-x: clip;
}

.insights-timeline-fade {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 40px;
  pointer-events: none;
  z-index: 10;
}

.insights-timeline-fade.left {
  left: 0;
  background: linear-gradient(to right, var(--ds-bg-default), transparent);
}

.insights-timeline-fade.right {
  right: 0;
  background: linear-gradient(to left, var(--ds-bg-default), transparent);
}

/* Content Area */
.insights-content {
  padding: 24px 16px;
}

.insights-main-grid {
  display: flex;
  flex-direction: column;
  gap: 24px;
  margin-bottom: 24px;
}

/* Large screens: side-by-side layout */
@media (min-width: 1400px) {
  .insights-main-grid {
    display: grid;
    grid-template-columns: minmax(280px, 360px) 1fr;
    gap: 24px;
  }
}

.insights-scorecard {
  width: 100%;
}

@media (min-width: 1400px) {
  .insights-scorecard {
    max-height: 520px;
    overflow: auto;
  }
}

.insights-chart {
  min-height: 360px;
}

@media (min-width: 768px) {
  .insights-chart {
    min-height: 420px;
  }
}

.insights-chart-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 400px;
  text-align: center;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-lg);
}

.insights-chart-empty svg {
  width: 48px;
  height: 48px;
  color: var(--ds-icon-tertiary);
  margin-bottom: 12px;
}

/* ========================================
   TIMELINE RANGE COMPONENT
   ======================================== */

.timeline-range-container {
  position: relative;
  background-color: var(--ds-bg-default);
  cursor: crosshair;
  user-select: none;
}

.timeline-tick-label {
  position: absolute;
  font-family: var(--font-sans);
  font-size: 10px;
  color: var(--ds-text-tertiary);
}

.timeline-tick-label[data-selected="true"] {
  color: var(--ds-text-default);
  font-weight: 500;
}

.timeline-tick-mark {
  position: absolute;
  width: 1px;
  bottom: 0;
  background-color: var(--color-border-default);
}

.timeline-today-marker {
  position: absolute;
  width: 1px;
  top: 0;
  height: 100%;
  background-color: #F4A267;
  pointer-events: none;
  z-index: 5;
}

.timeline-hover-line {
  position: absolute;
  width: 1px;
  top: 0;
  height: 100%;
  background-color: var(--color-border-default);
  pointer-events: none;
  z-index: 1;
}

.timeline-hover-label {
  position: absolute;
  top: calc(100% + 4px);
  transform: translateX(-50%);
  background-color: var(--neutral-base-800);
  color: white;
  font-family: var(--font-sans);
  font-size: 12px;
  padding: 4px 8px;
  border-radius: var(--radius-md);
  white-space: nowrap;
  pointer-events: none;
  z-index: 2;
}

.timeline-comparison-box {
  position: absolute;
  top: 0;
  height: 100%;
  background: rgba(0, 0, 0, 0.08);
  border: 1px solid var(--ds-text-tertiary);
  border-radius: 6px;
  z-index: 1;
}

.timeline-comparison-label {
  position: absolute;
  top: 4px;
  left: 8px;
  background-color: var(--neutral-base-500);
  color: white;
  font-family: var(--font-sans);
  font-size: 12px;
  padding: 4px 8px;
  border-radius: var(--radius-md);
  font-weight: 500;
  pointer-events: none;
}

.timeline-comparison-remove {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 16px;
  height: 16px;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 10px;
  line-height: 1;
}

.timeline-comparison-remove:hover {
  background-color: var(--ds-bg-secondary-hovered);
}

.timeline-selection-box {
  position: absolute;
  top: 0;
  height: 100%;
  background: rgba(82, 102, 235, 0.12);
  border: 1.5px solid var(--purple-magic-600);
  border-radius: 6px;
  z-index: 2;
  cursor: grab;
}

.timeline-selection-box:active {
  cursor: grabbing;
}

.timeline-selection-box.preview {
  cursor: crosshair;
  pointer-events: none;
}

.timeline-selection-label {
  position: absolute;
  top: 4px;
  left: 8px;
  background-color: var(--purple-magic-600);
  color: white;
  font-family: var(--font-sans);
  font-size: 12px;
  padding: 4px 8px;
  border-radius: var(--radius-md);
  font-weight: 500;
}

.timeline-resize-handle {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 5px;
  height: 24px;
  background-color: var(--ds-bg-default);
  border: 1.5px solid var(--purple-magic-600);
  border-radius: 2px;
  cursor: ew-resize;
}

.timeline-year-label {
  position: absolute;
  font-family: var(--font-sans);
  font-size: 11px;
  color: var(--ds-text-secondary);
  font-weight: 500;
}

/* ========================================
   INSIGHTS DROPDOWN STYLES
   ======================================== */

.insights-dropdown-button {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 32px;
  padding: 0 12px 0 8px;
  background-color: var(--ds-bg-default);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  cursor: pointer;
  transition: background-color 150ms ease;
}

.insights-dropdown-button:hover {
  background-color: var(--ds-bg-default-hovered);
}

.insights-dropdown-button:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-border-focus-ring);
}

.insights-dropdown-chevron {
  width: 16px;
  height: 16px;
  margin-left: 8px;
  color: var(--ds-icon-secondary);
  transition: transform 200ms ease;
}

.insights-dropdown-chevron.rotated {
  transform: rotate(180deg);
}

.insights-dropdown-menu {
  position: absolute;
  z-index: 50;
  margin-top: 4px;
  width: 100%;
  background-color: var(--ds-bg-default);
  border-radius: var(--radius-md);
  padding: 4px;
  box-shadow: 0px 14px 20px 0px rgba(4, 4, 52, 0.02), 
              0px 8px 12px 0px rgba(14, 14, 45, 0.08), 
              0px 0px 1px 0px rgba(175, 178, 206, 0.9), 
              0px 1px 4px 0px rgba(183, 187, 219, 0.14);
}

.insights-dropdown-item {
  width: 100%;
  padding: 8px 12px;
  text-align: left;
  border-radius: var(--radius-sm);
  border: none;
  background: none;
  cursor: pointer;
  transition: background-color 150ms ease;
}

.insights-dropdown-item:hover {
  background-color: var(--ds-bg-default-hovered);
}

.insights-dropdown-item.selected {
  background-color: var(--ds-bg-default-hovered);
}

/* Period Dropdown */
.period-dropdown-button {
  display: flex;
  align-items: center;
  height: 32px;
  padding: 0 4px;
  background-color: rgba(156, 180, 232, 0.12);
  border: 1px solid var(--purple-magic-600);
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  cursor: pointer;
  transition: all 150ms ease;
}

.period-dropdown-button:hover {
  background-color: rgba(156, 180, 232, 0.28);
}

.period-dropdown-button.open {
  background-color: rgba(156, 180, 232, 0.28);
  box-shadow: 0px 0px 0px 1px white, 0px 0px 0px 3px var(--purple-magic-300);
}

.period-dropdown-icon {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.period-dropdown-icon svg {
  width: 13px;
  height: 13px;
  color: var(--ds-text-default);
}

.period-dropdown-chevron-wrapper {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.period-dropdown-chevron {
  width: 12px;
  height: 12px;
  color: var(--ds-text-default);
  transition: transform 200ms ease;
}

.period-dropdown-chevron.rotated {
  transform: rotate(180deg);
}

.period-dropdown-menu {
  position: absolute;
  right: 0;
  z-index: 50;
  margin-top: 4px;
  width: 273px;
  background-color: var(--ds-bg-default);
  border-radius: var(--radius-md);
  padding: 4px;
  overflow: hidden;
  box-shadow: 0px 14px 20px 0px rgba(4, 4, 52, 0.02), 
              0px 8px 12px 0px rgba(14, 14, 45, 0.08), 
              0px 0px 1px 0px rgba(175, 178, 206, 0.9), 
              0px 1px 4px 0px rgba(183, 187, 219, 0.14);
}

.period-dropdown-item {
  width: 100%;
  padding: 8px;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 4px;
  border-radius: var(--radius-sm);
  border: none;
  background: none;
  cursor: pointer;
  transition: background-color 150ms ease;
}

.period-dropdown-item:hover {
  background-color: var(--ds-bg-default-hovered);
}

.period-dropdown-check {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.period-dropdown-check svg {
  width: 16px;
  height: 16px;
  color: var(--purple-magic-600);
}

/* Chart Options Dropdown */
.chart-options-trigger {
  display: flex;
  align-items: center;
  background-color: var(--ds-bg-secondary);
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-md);
  padding: 4px;
  cursor: pointer;
  transition: background-color 150ms ease;
}

.chart-options-trigger:hover {
  background-color: var(--ds-bg-secondary-hovered);
}

.chart-options-menu {
  position: absolute;
  right: 0;
  top: 35px;
  width: 253px;
  background-color: var(--ds-bg-default);
  border-radius: var(--radius-md);
  padding: 4px;
  z-index: 50;
  box-shadow: 0px 14px 20px 0px rgba(4, 4, 52, 0.02), 
              0px 8px 12px 0px rgba(14, 14, 45, 0.08), 
              0px 0px 1px 0px rgba(175, 178, 206, 0.9), 
              0px 1px 4px 0px rgba(183, 187, 219, 0.14);
}

.chart-options-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px 8px 8px;
  border-radius: var(--radius-sm);
  transition: background-color 150ms ease;
}

.chart-options-item:hover {
  background-color: var(--ds-bg-default-hovered);
}

/* Toggle Switch */
.chart-toggle-switch {
  position: relative;
  width: 36px;
  height: 20px;
  border-radius: 9999px;
  background-color: var(--neutral-base-300);
  border: none;
  cursor: pointer;
  transition: background-color 200ms ease;
}

.chart-toggle-switch[data-checked="true"] {
  background-color: var(--purple-magic-600);
}

.chart-toggle-thumb {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 16px;
  height: 16px;
  background-color: white;
  border-radius: 50%;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  transition: transform 200ms ease;
}

.chart-toggle-switch[data-checked="true"] .chart-toggle-thumb {
  transform: translateX(16px);
}

/* CashFlow Bar Chart Tooltip */
.cashflow-tooltip {
  background-color: var(--neutral-base-900);
  color: white;
  border-radius: var(--radius-md);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  padding: 8px 12px;
  font-family: var(--font-sans);
  font-size: 14px;
  white-space: nowrap;
}

.cashflow-tooltip-header {
  font-weight: 500;
  color: var(--neutral-base-300);
  margin-bottom: 6px;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.1px;
}

.cashflow-tooltip-label {
  color: var(--neutral-base-400);
}

.cashflow-tooltip-value-in {
  font-weight: 500;
  color: #77C599;
}

.cashflow-tooltip-value-out {
  font-weight: 500;
  color: #FC92B4;
}

.cashflow-tooltip-arrow {
  position: absolute;
  left: 50%;
  bottom: 0;
  transform: translateX(-50%) translateY(100%);
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid var(--neutral-base-900);
}

/* ========================================
   CHAT UI COMPONENTS
   Components for the Mercury Assistant chat panel
   ======================================== */

/* Chat Message */
.chat-message {
  font-family: var(--font-sans);
}

.chat-message-paragraph {
  margin: 0 0 12px;
  font-size: 14px;
  line-height: 20px;
  color: var(--ds-text-default);
}

.chat-message-paragraph:last-child {
  margin-bottom: 0;
}

.chat-message-list {
  margin: 0 0 12px;
  padding-left: 20px;
  font-size: 14px;
  line-height: 20px;
  color: var(--ds-text-default);
}

.chat-message-list li {
  margin-bottom: 4px;
}

.chat-message-code {
  font-family: monospace;
  font-size: 13px;
  padding: 2px 6px;
  background-color: var(--ds-bg-secondary);
  border-radius: var(--radius-sm);
  color: var(--ds-text-default);
}

.chat-message-link {
  color: var(--purple-magic-600);
  text-decoration: none;
}

.chat-message-link:hover {
  text-decoration: underline;
}

/* Expandable Section */
.chat-expandable-section {
  border: 1px solid var(--color-border-default);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.chat-expandable-header {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 8px 12px;
  background: transparent;
  border: none;
  cursor: pointer;
  text-align: left;
  transition: background-color 150ms ease;
}

.chat-expandable-header:hover {
  background-color: var(--ds-bg-default-hovered);
}

.chat-expandable-content {
  padding: 12px;
  border-top: 1px solid var(--color-border-default);
  background-color: var(--ds-bg-secondary);
  font-size: 13px;
  line-height: 20px;
  color: var(--ds-text-secondary);
}

/* Thinking Chain */
.chat-thinking-chain {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  background-color: var(--ds-bg-secondary);
  border-radius: var(--radius-md);
  margin-bottom: 12px;
}

.chat-thinking-step {
  display: flex;
  align-items: center;
  gap: 8px;
}

.chat-thinking-step-icon {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.chat-thinking-step-dot {
  width: 8px;
  height: 8px;
  border-radius: var(--radius-full);
  background-color: var(--neutral-base-400);
}

.chat-thinking-spinner {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Suggested Actions */
.chat-suggested-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 12px;
}

.chat-suggested-action-chip {
  padding: 6px 12px;
  border-radius: var(--radius-full);
  background-color: var(--ds-bg-secondary);
  border: 1px solid var(--color-border-default);
  cursor: pointer;
  transition: background-color 150ms ease, border-color 150ms ease;
}

.chat-suggested-action-chip:hover {
  background-color: var(--ds-bg-secondary-hovered);
  border-color: var(--color-border-emphasized);
}

/* Navigation Card */
.chat-navigation-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px;
  background-color: var(--ds-bg-secondary);
  border-radius: var(--radius-md);
  margin-top: 12px;
}

.chat-navigation-card-content {
  display: flex;
  align-items: center;
  gap: 8px;
}

.chat-navigation-countdown {
  color: var(--ds-text-tertiary);
}

/* Comparison Chart */
.chat-comparison-chart {
  margin: 12px 0;
}

.chat-chart-legend {
  display: flex;
  gap: 16px;
  margin-bottom: 8px;
}

.chat-legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.chat-legend-line {
  width: 16px;
  height: 2px;
  border-radius: 1px;
}

.chat-legend-line-dashed {
  background: repeating-linear-gradient(
    90deg,
    var(--neutral-base-400) 0,
    var(--neutral-base-400) 4px,
    transparent 4px,
    transparent 8px
  );
}

.chat-legend-line-solid {
  background-color: var(--purple-magic-600);
}

.chat-chart-container {
  width: 100%;
  height: 100px;
}

.chat-chart-container svg {
  width: 100%;
  height: 100%;
}

.chat-chart-x-axis {
  display: flex;
  justify-content: space-between;
  margin-top: 4px;
}

/* Spending Bar Chart */
.chat-spending-breakdown {
  margin: 12px 0;
}

.chat-spending-items {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.chat-spending-row {
  display: grid;
  grid-template-columns: 100px 1fr 70px;
  gap: 12px;
  align-items: center;
}

.chat-spending-label {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.chat-spending-bar-container {
  height: 8px;
  background-color: var(--ds-bg-secondary);
  border-radius: var(--radius-full);
  overflow: hidden;
}

.chat-spending-bar {
  height: 100%;
  border-radius: var(--radius-full);
  transition: width 300ms ease;
}

.chat-spending-value {
  text-align: right;
}

.chat-spending-percentage {
  width: 40px;
  text-align: right;
}

/* Summary Stats */
.chat-summary-stats {
  display: flex;
  gap: 16px;
  margin: 12px 0;
}

.chat-summary-stats-row {
  flex-direction: row;
}

.chat-summary-stats-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}

.chat-stat-item {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.chat-stat-value-row {
  display: flex;
  align-items: center;
  gap: 6px;
}

.chat-stat-trend {
  display: flex;
  align-items: center;
  gap: 2px;
}

/* Chat Tables */
.chat-transaction-table,
.chat-employee-table {
  margin: 12px 0;
}

.chat-table {
  width: 100%;
  border-collapse: collapse;
}

.chat-table th,
.chat-table td {
  padding: 8px 12px;
  text-align: left;
  border-bottom: 1px solid var(--color-border-default);
}

.chat-table th {
  background-color: var(--ds-bg-secondary);
}

.chat-table tr:last-child td {
  border-bottom: none;
}

.chat-table tr.selected {
  background-color: var(--ds-bg-emphasized);
}

.chat-table-link {
  text-decoration: none;
}

.chat-table-link:hover {
  text-decoration: underline;
  color: var(--purple-magic-600);
}

/* Chat Checkbox */
.chat-checkbox {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1.5px solid var(--color-border-input);
  border-radius: var(--radius-sm);
  background-color: var(--ds-bg-input-default);
  cursor: pointer;
  transition: background-color 150ms ease, border-color 150ms ease;
}

.chat-checkbox:hover {
  border-color: var(--color-border-input-emphasized);
}

.chat-checkbox.checked {
  background-color: var(--purple-magic-600);
  border-color: var(--purple-magic-600);
}

.chat-checkbox.indeterminate {
  background-color: var(--purple-magic-600);
  border-color: var(--purple-magic-600);
}

.chat-checkbox-indeterminate {
  width: 10px;
  height: 2px;
  background-color: var(--neutral-base-0);
  border-radius: 1px;
}

/* Chat Block Renderer */
.chat-block-renderer {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

/* ========================================
   MOBILE RESPONSIVE STYLES
   768px breakpoint
   ======================================== */

/* Mobile Sidebar Overlay */
.ds-sidebar-overlay {
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 998;
  animation: fadeIn 200ms ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Mobile Sidebar Drawer */
.ds-sidebar-mobile {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  z-index: 999;
  transform: translateX(-100%);
  transition: transform 300ms ease-out;
}

.ds-sidebar-mobile.ds-sidebar-open {
  transform: translateX(0);
}

/* Mobile Sidebar Close Button */
.ds-sidebar-close-btn {
  position: absolute;
  top: 16px;
  right: 16px;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--ds-icon-secondary);
  transition: background-color 150ms ease;
  z-index: 10;
}

.ds-sidebar-close-btn:hover {
  background-color: var(--ds-bg-default-hovered);
}

/* Mobile Header */
.ds-mobile-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 56px;
  padding: 0 16px;
  background-color: var(--ds-bg-default);
  border-bottom: 1px solid var(--color-border-default);
}

.ds-mobile-hamburger {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-md);
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--ds-icon-default);
  transition: background-color 150ms ease;
}

.ds-mobile-hamburger:hover {
  background-color: var(--ds-bg-default-hovered);
}

.ds-mobile-header-logo {
  display: flex;
  align-items: center;
  gap: 8px;
}

.ds-mobile-logo-img {
  width: 28px;
  height: 28px;
  border-radius: var(--radius-md);
}

.ds-mobile-company-name {
  font-family: var(--font-sans);
  font-size: 15px;
  font-weight: 480;
  line-height: 24px;
  color: var(--ds-text-default);
}

.ds-mobile-header-spacer {
  width: 40px;
}

/* Mobile Action Toolbar Container */
.ds-action-container-mobile {
  left: 24px;
  right: 24px;
  bottom: 16px;
}

/* Mobile Action Toolbar */
.ds-action-toolbar-mobile {
  width: 100%;
  max-width: none;
  padding: 6px;
  gap: 8px;
}

.ds-action-toolbar-mobile .ds-action-composer-input {
  min-width: 0;
  flex: 1;
}

/* Mobile Chat Panel */
@media (max-width: 768px) {
  .ds-chat-panel-overlay {
    width: 100% !important;
    inset: 0;
    border-radius: 0;
  }
  
  .ds-chat-panel-overlay-panel {
    top: 0;
    right: 0;
    bottom: 0;
    border-radius: 0;
  }
  
  .ds-chat-panel-side {
    border-radius: 0;
  }
  
  .ds-chat-panel-resize-handle {
    display: none;
  }
  
  /* Hide desktop sidebar on mobile */
  .ds-sidebar:not(.ds-sidebar-mobile) {
    display: none;
  }
  
  /* Adjust action container for mobile */
  .ds-action-container {
    left: 0;
    padding: 0 16px;
  }
}

/* ========================================
   MOBILE DASHBOARD STYLES
   Responsive layout for iPhone and mobile devices
   ======================================== */

@media (max-width: 768px) {
  /* Dashboard container */
  .ds-dashboard-container {
    width: 100% !important;
    padding: 0 16px !important;
  }
  
  /* Dashboard header - stack welcome and time periods */
  .ds-dashboard-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 16px !important;
    width: 100% !important;
    height: auto !important;
    padding: 16px !important;
  }
  
  /* Time period tabs - horizontal scroll on mobile */
  .ds-time-period-container {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  .ds-time-period-container::-webkit-scrollbar {
    display: none;
  }
  
  /* Data summary tabs - stack vertically on mobile */
  .ds-data-summary-container {
    flex-direction: column !important;
    width: 100% !important;
    gap: 12px !important;
  }
  
  .ds-data-summary-tab {
    width: 100% !important;
    padding: 12px 16px !important;
  }
  
  /* Chart section - full width, reduced height */
  .ds-chart-section {
    width: 100% !important;
    height: 300px !important;
  }
  
  .ds-chart-container {
    left: 0 !important;
    right: 0 !important;
  }
  
  /* X-axis labels - hide some on mobile for space */
  .ds-xaxis-labels {
    width: 100% !important;
    padding: 8px 16px !important;
  }
  
  /* Dashboard cards section - stack vertically */
  .ds-dashboard-cards {
    flex-direction: column !important;
    width: 100% !important;
    padding: 16px !important;
    gap: 16px !important;
  }
  
  .ds-dashboard-card {
    width: 100% !important;
  }
  
  /* Account list items - ensure they fit */
  .ds-account-list-item {
    width: 100% !important;
  }
  
  /* Transaction rows - adjust for mobile */
  .ds-transaction-row {
    padding-left: 8px !important;
    padding-right: 8px !important;
  }
  
  /* Balance text - ensure it doesn't overflow */
  .ds-balance-text {
    font-size: 20px !important;
    word-break: break-word;
  }
  
  .ds-balance-text-large {
    font-size: 24px !important;
  }
  
  /* Treasury bar chart */
  .ds-treasury-bars {
    height: 40px !important;
  }
  
  /* Insight panel - full screen on mobile */
  .ds-insights-panel {
    position: fixed !important;
    inset: 0 !important;
    width: 100% !important;
    height: 100% !important;
    border-radius: 0 !important;
    z-index: 1000 !important;
  }
}

/* ========================================
   MOBILE FEATURE CARDS (Explore Page)
   ======================================== */

@media (max-width: 768px) {
  .feature-cards-grid {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
    padding: 12px 0 !important;
  }
  
  .feature-card {
    min-height: auto !important;
    padding: 16px !important;
  }
  
  /* Explore page */
  .explore-page {
    padding: 0 16px;
  }
  
  .explore-page h1 {
    font-size: 24px !important;
  }
}

/* ========================================
   EXPLORE PAGE STYLES
   ======================================== */

.explore-recommended-card:hover {
  background-color: var(--ds-bg-default-hovered) !important;
  border-color: var(--color-border-emphasized) !important;
}

.explore-search input {
  font-size: 15px;
  padding: 12px 16px;
}

/* ========================================
   MOBILE CHART RESPONSIVENESS
   ======================================== */

@media (max-width: 768px) {
  /* Chart hover interactions - disable complex interactions on mobile */
  .ds-chart-hover-line {
    display: none !important;
  }
  
  /* Make chart dots larger for touch */
  .ds-chart-dot {
    width: 12px !important;
    height: 12px !important;
  }
  
  /* Chart tooltip - position better on mobile */
  .ds-chart-tooltip {
    max-width: 200px !important;
    font-size: 12px !important;
  }
}

/* ========================================
   MOBILE CARDS PAGE
   ======================================== */

@media (max-width: 768px) {
  .ds-cards-grid {
    grid-template-columns: 1fr !important;
  }
  
  .ds-card-item {
    width: 100% !important;
  }
}

/* ========================================
   MOBILE TABLES
   ======================================== */

@media (max-width: 768px) {
  /* Table container - horizontal scroll */
  .ds-table-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Reduce table font size slightly */
  .ds-table {
    font-size: 14px;
  }
  
  /* Transaction table specific */
  .transaction-table-container {
    overflow-x: auto;
  }
}

/* ========================================
   MOBILE COMMAND PAGE
   ======================================== */

@media (max-width: 768px) {
  .ds-command-container {
    padding: 16px !important;
  }
  
  .ds-command-suggestions {
    flex-wrap: wrap !important;
    gap: 8px !important;
  }
  
  .ds-command-suggestion-chip {
    flex-shrink: 0;
  }
}

/* ========================================
   MOBILE PAGE CONTAINER
   ======================================== */

@media (max-width: 768px) {
  /* Page container adjustments */
  .page-container,
  .ds-page-container {
    padding-left: 16px !important;
    padding-right: 16px !important;
  }
  
  /* Full width pages on mobile */
  .page-container > *,
  .ds-page-container > * {
    max-width: 100% !important;
  }
}

/* ========================================
   MOBILE DS-TABLE
   ======================================== */

@media (max-width: 768px) {
  /* Table wrapper for horizontal scroll */
  .ds-table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin: 0 -16px;
    padding: 0 16px;
  }
  
  /* Ensure table has min-width for proper display */
  .ds-table {
    min-width: 600px;
  }
  
  /* Make table cells more compact on mobile */
  .ds-table th,
  .ds-table td {
    padding: 8px 12px !important;
    font-size: 13px !important;
  }
  
  /* Hide less important columns on mobile */
  .ds-table .ds-table-col-hide-mobile {
    display: none !important;
  }
  
  /* Table toolbar adjustments */
  .ds-table-toolbar {
    flex-wrap: wrap;
    gap: 8px;
  }
  
  .ds-table-toolbar-search {
    width: 100%;
    order: -1;
  }
}

/* ========================================
   MOBILE TRANSACTIONS PAGE
   ======================================== */

@media (max-width: 768px) {
  .transactions-page {
    padding: 16px !important;
  }
  
  .transactions-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 12px !important;
  }
  
  .transactions-filters {
    overflow-x: auto;
    white-space: nowrap;
    padding-bottom: 8px;
    margin-right: -16px;
    padding-right: 16px;
  }
}

/* ========================================
   MOBILE RECIPIENTS PAGE
   ======================================== */

@media (max-width: 768px) {
  .recipients-page {
    padding: 16px !important;
  }
  
  .recipient-card {
    width: 100% !important;
  }
}

/* ========================================
   MOBILE TASKS PAGE
   ======================================== */

@media (max-width: 768px) {
  .tasks-page {
    padding: 16px !important;
  }
  
  .task-item {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 8px !important;
  }
}

/* ========================================
   MOBILE INSIGHTS PAGE
   ======================================== */

@media (max-width: 768px) {
  .insights-page {
    padding: 16px !important;
  }
  
  .insights-grid {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }
  
  .insights-chart-container {
    height: 200px !important;
  }
}

/* ========================================
   MOBILE ACTION TOOLBAR IMPROVEMENTS
   ======================================== */

@media (max-width: 768px) {
  /* Ensure action toolbar is above other content */
  .ds-action-toolbar {
    z-index: 100;
  }
  
  /* Make input larger on mobile for easier tapping */
  .ds-action-composer-input {
    font-size: 16px !important; /* Prevents iOS zoom on focus */
  }
}

/* ========================================
   MOBILE TYPOGRAPHY ADJUSTMENTS
   ======================================== */

@media (max-width: 768px) {
  /* Slightly smaller titles on mobile */
  .text-title-hero {
    font-size: 28px !important;
    line-height: 36px !important;
  }
  
  .text-title-main {
    font-size: 24px !important;
    line-height: 32px !important;
  }
}
